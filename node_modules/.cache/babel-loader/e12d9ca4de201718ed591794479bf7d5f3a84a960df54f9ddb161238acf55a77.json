{"ast":null,"code":"import React, { createContext, useEffect, useContext, useState, useRef, useMemo } from 'react';\nimport EventEmitter from 'events';\nimport { VideoSDK } from '@videosdk.live/js-sdk';\nvar eventPrifix = 'videosdk-live-react-sdk';\nvar events = {\n  'participant-joined': eventPrifix + \"-participant-joined\",\n  'participant-left': eventPrifix + \"-participant-left\",\n  'speaker-changed': eventPrifix + \"-speaker-changed\",\n  'presenter-changed': eventPrifix + \"-presenter-changed\",\n  'main-participant-changed': eventPrifix + \"-main-participant-changed\",\n  'entry-requested': eventPrifix + \"-entry-requested\",\n  'entry-responded': eventPrifix + \"-entry-responded\",\n  'recording-started': eventPrifix + \"-recording-started\",\n  'recording-stopped': eventPrifix + \"-recording-stopped\",\n  'chat-message': eventPrifix + \"-chat-message\",\n  'meeting-joined': eventPrifix + \"-meeting-joined\",\n  'meeting-left': eventPrifix + \"-meeting-left\",\n  'live-stream-started': eventPrifix + \"-live-stream-started\",\n  'live-stream-stopped': eventPrifix + \"-live-stream-stopped\",\n  'video-state-changed': eventPrifix + \"-video-state-changed\",\n  'video-seeked': eventPrifix + \"-video-seeked\",\n  'webcam-requested': eventPrifix + \"-webcam-requested\",\n  'mic-requested': eventPrifix + \"-mic-requested\",\n  'pin-state-changed': eventPrifix + \"-pin-state-changed\",\n  'connection-open': eventPrifix + \"-connection-open\",\n  'connection-close': eventPrifix + \"-connection-close\",\n  'switch-meeting': eventPrifix + \"-switch-meeting\",\n  error: eventPrifix + \"-error\",\n  'hls-started': eventPrifix + \"-hls-started\",\n  'hls-stopped': eventPrifix + \"-hls-stopped\",\n  'hls-state-changed': eventPrifix + \"-hls-state-changed\",\n  'recording-state-changed': eventPrifix + \"-recording-state-changed\",\n  'livestream-state-changed': eventPrifix + \"-livestream-state-changed\",\n  'meeting-state-changed': eventPrifix + \"-meeting-state-changed\",\n  'participant-mode-changed': eventPrifix + \"-participant-mode-changed\"\n};\nvar eventEmitter = new EventEmitter();\neventEmitter.setMaxListeners(9999);\nvar MeetingProviderContex = createContext();\nvar useMeeting = function useMeeting(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n    _ref$onParticipantJoi = _ref.onParticipantJoined,\n    onParticipantJoined = _ref$onParticipantJoi === void 0 ? function () {} : _ref$onParticipantJoi,\n    _ref$onParticipantLef = _ref.onParticipantLeft,\n    onParticipantLeft = _ref$onParticipantLef === void 0 ? function () {} : _ref$onParticipantLef,\n    _ref$onSpeakerChanged = _ref.onSpeakerChanged,\n    onSpeakerChanged = _ref$onSpeakerChanged === void 0 ? function () {} : _ref$onSpeakerChanged,\n    _ref$onPresenterChang = _ref.onPresenterChanged,\n    onPresenterChanged = _ref$onPresenterChang === void 0 ? function () {} : _ref$onPresenterChang,\n    _ref$onMainParticipan = _ref.onMainParticipantChanged,\n    onMainParticipantChanged = _ref$onMainParticipan === void 0 ? function () {} : _ref$onMainParticipan,\n    _ref$onEntryRequested = _ref.onEntryRequested,\n    onEntryRequested = _ref$onEntryRequested === void 0 ? function () {} : _ref$onEntryRequested,\n    _ref$onEntryResponded = _ref.onEntryResponded,\n    onEntryResponded = _ref$onEntryResponded === void 0 ? function () {} : _ref$onEntryResponded,\n    _ref$onRecordingStart = _ref.onRecordingStarted,\n    onRecordingStarted = _ref$onRecordingStart === void 0 ? function () {} : _ref$onRecordingStart,\n    _ref$onRecordingStopp = _ref.onRecordingStopped,\n    onRecordingStopped = _ref$onRecordingStopp === void 0 ? function () {} : _ref$onRecordingStopp,\n    _ref$onChatMessage = _ref.onChatMessage,\n    onChatMessage = _ref$onChatMessage === void 0 ? function () {} : _ref$onChatMessage,\n    _ref$onMeetingJoined = _ref.onMeetingJoined,\n    onMeetingJoined = _ref$onMeetingJoined === void 0 ? function () {} : _ref$onMeetingJoined,\n    _ref$onMeetingLeft = _ref.onMeetingLeft,\n    onMeetingLeft = _ref$onMeetingLeft === void 0 ? function () {} : _ref$onMeetingLeft,\n    _ref$onLiveStreamStar = _ref.onLiveStreamStarted,\n    onLiveStreamStarted = _ref$onLiveStreamStar === void 0 ? function () {} : _ref$onLiveStreamStar,\n    _ref$onLiveStreamStop = _ref.onLiveStreamStopped,\n    onLiveStreamStopped = _ref$onLiveStreamStop === void 0 ? function () {} : _ref$onLiveStreamStop,\n    _ref$onVideoStateChan = _ref.onVideoStateChanged,\n    onVideoStateChanged = _ref$onVideoStateChan === void 0 ? function () {} : _ref$onVideoStateChan,\n    _ref$onVideoSeeked = _ref.onVideoSeeked,\n    onVideoSeeked = _ref$onVideoSeeked === void 0 ? function () {} : _ref$onVideoSeeked,\n    _ref$onWebcamRequeste = _ref.onWebcamRequested,\n    onWebcamRequested = _ref$onWebcamRequeste === void 0 ? function () {} : _ref$onWebcamRequeste,\n    _ref$onMicRequested = _ref.onMicRequested,\n    onMicRequested = _ref$onMicRequested === void 0 ? function () {} : _ref$onMicRequested,\n    _ref$onPinStateChange = _ref.onPinStateChanged,\n    onPinStateChanged = _ref$onPinStateChange === void 0 ? function () {} : _ref$onPinStateChange,\n    _ref$onConnectionOpen = _ref.onConnectionOpen,\n    onConnectionOpen = _ref$onConnectionOpen === void 0 ? function () {} : _ref$onConnectionOpen,\n    _ref$onConnetionClose = _ref.onConnetionClose,\n    onConnetionClose = _ref$onConnetionClose === void 0 ? function () {} : _ref$onConnetionClose,\n    _ref$onSwitchMeeting = _ref.onSwitchMeeting,\n    onSwitchMeeting = _ref$onSwitchMeeting === void 0 ? function () {} : _ref$onSwitchMeeting,\n    _ref$onError = _ref.onError,\n    onError = _ref$onError === void 0 ? function () {} : _ref$onError,\n    _ref$onHlsStarted = _ref.onHlsStarted,\n    onHlsStarted = _ref$onHlsStarted === void 0 ? function () {} : _ref$onHlsStarted,\n    _ref$onHlsStopped = _ref.onHlsStopped,\n    onHlsStopped = _ref$onHlsStopped === void 0 ? function () {} : _ref$onHlsStopped,\n    _ref$onHlsStateChange = _ref.onHlsStateChanged,\n    onHlsStateChanged = _ref$onHlsStateChange === void 0 ? function () {} : _ref$onHlsStateChange,\n    _ref$onRecordingState = _ref.onRecordingStateChanged,\n    onRecordingStateChanged = _ref$onRecordingState === void 0 ? function () {} : _ref$onRecordingState,\n    _ref$onLivestreamStat = _ref.onLivestreamStateChanged,\n    onLivestreamStateChanged = _ref$onLivestreamStat === void 0 ? function () {} : _ref$onLivestreamStat,\n    _ref$onMeetingStateCh = _ref.onMeetingStateChanged,\n    onMeetingStateChanged = _ref$onMeetingStateCh === void 0 ? function () {} : _ref$onMeetingStateCh,\n    _ref$onParticipantMod = _ref.onParticipantModeChanged,\n    onParticipantModeChanged = _ref$onParticipantMod === void 0 ? function () {} : _ref$onParticipantMod;\n  useEffect(function () {\n    eventEmitter.on(events['participant-joined'], onParticipantJoined);\n    eventEmitter.on(events['participant-left'], onParticipantLeft);\n    eventEmitter.on(events['speaker-changed'], onSpeakerChanged);\n    eventEmitter.on(events['presenter-changed'], onPresenterChanged);\n    eventEmitter.on(events['main-participant-changed'], onMainParticipantChanged);\n    eventEmitter.on(events['entry-requested'], onEntryRequested);\n    eventEmitter.on(events['entry-responded'], onEntryResponded);\n    eventEmitter.on(events['recording-started'], onRecordingStarted);\n    eventEmitter.on(events['recording-stopped'], onRecordingStopped);\n    eventEmitter.on(events['chat-message'], onChatMessage);\n    eventEmitter.on(events['meeting-joined'], onMeetingJoined);\n    eventEmitter.on(events['meeting-left'], onMeetingLeft);\n    eventEmitter.on(events['live-stream-started'], onLiveStreamStarted);\n    eventEmitter.on(events['live-stream-stopped'], onLiveStreamStopped);\n    eventEmitter.on(events['video-state-changed'], onVideoStateChanged);\n    eventEmitter.on(events['video-seeked'], onVideoSeeked);\n    eventEmitter.on(events['webcam-requested'], onWebcamRequested);\n    eventEmitter.on(events['mic-requested'], onMicRequested);\n    eventEmitter.on(events['pin-state-changed'], onPinStateChanged);\n    eventEmitter.on(events['connection-open'], onConnectionOpen);\n    eventEmitter.on(events['connection-close'], onConnetionClose);\n    eventEmitter.on(events['switch-meeting'], onSwitchMeeting);\n    eventEmitter.on(events['error'], onError);\n    eventEmitter.on(events['hls-started'], onHlsStarted);\n    eventEmitter.on(events['hls-stopped'], onHlsStopped);\n    eventEmitter.on(events['hls-state-changed'], onHlsStateChanged);\n    eventEmitter.on(events['recording-state-changed'], onRecordingStateChanged);\n    eventEmitter.on(events['livestream-state-changed'], onLivestreamStateChanged);\n    eventEmitter.on(events['meeting-state-changed'], onMeetingStateChanged);\n    eventEmitter.on(events['participant-mode-changed'], onParticipantModeChanged);\n    return function () {\n      eventEmitter.off(events['meeting-state-changed'], onMeetingStateChanged);\n      eventEmitter.off(events['participant-joined'], onParticipantJoined);\n      eventEmitter.off(events['participant-left'], onParticipantLeft);\n      eventEmitter.off(events['speaker-changed'], onSpeakerChanged);\n      eventEmitter.off(events['presenter-changed'], onPresenterChanged);\n      eventEmitter.off(events['main-participant-changed'], onMainParticipantChanged);\n      eventEmitter.off(events['entry-requested'], onEntryRequested);\n      eventEmitter.off(events['entry-responded'], onEntryResponded);\n      eventEmitter.off(events['recording-started'], onRecordingStarted);\n      eventEmitter.off(events['recording-stopped'], onRecordingStopped);\n      eventEmitter.off(events['chat-message'], onChatMessage);\n      eventEmitter.off(events['meeting-joined'], onMeetingJoined);\n      eventEmitter.off(events['meeting-left'], onMeetingLeft);\n      eventEmitter.off(events['live-stream-started'], onLiveStreamStarted);\n      eventEmitter.off(events['live-stream-stopped'], onLiveStreamStopped);\n      eventEmitter.off(events['video-state-changed'], onVideoStateChanged);\n      eventEmitter.off(events['video-seeked'], onVideoSeeked);\n      eventEmitter.off(events['webcam-requested'], onWebcamRequested);\n      eventEmitter.off(events['mic-requested'], onMicRequested);\n      eventEmitter.off(events['pin-state-changed'], onPinStateChanged);\n      eventEmitter.off(events['connection-open'], onConnectionOpen);\n      eventEmitter.off(events['connection-close'], onConnetionClose);\n      eventEmitter.off(events['switch-meeting'], onSwitchMeeting);\n      eventEmitter.off(events['error'], onError);\n      eventEmitter.off(events['hls-started'], onHlsStarted);\n      eventEmitter.off(events['hls-stopped'], onHlsStopped);\n      eventEmitter.off(events['hls-state-changed'], onHlsStateChanged);\n      eventEmitter.off(events['recording-state-changed'], onRecordingStateChanged);\n      eventEmitter.off(events['livestream-state-changed'], onLivestreamStateChanged);\n      eventEmitter.off(events['participant-mode-changed'], onParticipantModeChanged);\n    };\n  }, []);\n  return useContext(MeetingProviderContex);\n};\nvar MeetingConsumer = function MeetingConsumer(_ref2) {\n  var children = _ref2.children,\n    _ref2$onParticipantJo = _ref2.onParticipantJoined,\n    onParticipantJoined = _ref2$onParticipantJo === void 0 ? function () {} : _ref2$onParticipantJo,\n    _ref2$onParticipantLe = _ref2.onParticipantLeft,\n    onParticipantLeft = _ref2$onParticipantLe === void 0 ? function () {} : _ref2$onParticipantLe,\n    _ref2$onSpeakerChange = _ref2.onSpeakerChanged,\n    onSpeakerChanged = _ref2$onSpeakerChange === void 0 ? function () {} : _ref2$onSpeakerChange,\n    _ref2$onPresenterChan = _ref2.onPresenterChanged,\n    onPresenterChanged = _ref2$onPresenterChan === void 0 ? function () {} : _ref2$onPresenterChan,\n    _ref2$onMainParticipa = _ref2.onMainParticipantChanged,\n    onMainParticipantChanged = _ref2$onMainParticipa === void 0 ? function () {} : _ref2$onMainParticipa,\n    _ref2$onEntryRequeste = _ref2.onEntryRequested,\n    onEntryRequested = _ref2$onEntryRequeste === void 0 ? function () {} : _ref2$onEntryRequeste,\n    _ref2$onEntryResponde = _ref2.onEntryResponded,\n    onEntryResponded = _ref2$onEntryResponde === void 0 ? function () {} : _ref2$onEntryResponde,\n    _ref2$onRecordingStar = _ref2.onRecordingStarted,\n    onRecordingStarted = _ref2$onRecordingStar === void 0 ? function () {} : _ref2$onRecordingStar,\n    _ref2$onRecordingStop = _ref2.onRecordingStopped,\n    onRecordingStopped = _ref2$onRecordingStop === void 0 ? function () {} : _ref2$onRecordingStop,\n    _ref2$onChatMessage = _ref2.onChatMessage,\n    onChatMessage = _ref2$onChatMessage === void 0 ? function () {} : _ref2$onChatMessage,\n    _ref2$onMeetingJoined = _ref2.onMeetingJoined,\n    onMeetingJoined = _ref2$onMeetingJoined === void 0 ? function () {} : _ref2$onMeetingJoined,\n    _ref2$onMeetingLeft = _ref2.onMeetingLeft,\n    onMeetingLeft = _ref2$onMeetingLeft === void 0 ? function () {} : _ref2$onMeetingLeft,\n    _ref2$onLiveStreamSta = _ref2.onLiveStreamStarted,\n    onLiveStreamStarted = _ref2$onLiveStreamSta === void 0 ? function () {} : _ref2$onLiveStreamSta,\n    _ref2$onLiveStreamSto = _ref2.onLiveStreamStopped,\n    onLiveStreamStopped = _ref2$onLiveStreamSto === void 0 ? function () {} : _ref2$onLiveStreamSto,\n    _ref2$onVideoStateCha = _ref2.onVideoStateChanged,\n    onVideoStateChanged = _ref2$onVideoStateCha === void 0 ? function () {} : _ref2$onVideoStateCha,\n    _ref2$onVideoSeeked = _ref2.onVideoSeeked,\n    onVideoSeeked = _ref2$onVideoSeeked === void 0 ? function () {} : _ref2$onVideoSeeked,\n    _ref2$onWebcamRequest = _ref2.onWebcamRequested,\n    onWebcamRequested = _ref2$onWebcamRequest === void 0 ? function () {} : _ref2$onWebcamRequest,\n    _ref2$onMicRequested = _ref2.onMicRequested,\n    onMicRequested = _ref2$onMicRequested === void 0 ? function () {} : _ref2$onMicRequested,\n    _ref2$onPinStateChang = _ref2.onPinStateChanged,\n    onPinStateChanged = _ref2$onPinStateChang === void 0 ? function () {} : _ref2$onPinStateChang,\n    _ref2$onConnectionOpe = _ref2.onConnectionOpen,\n    onConnectionOpen = _ref2$onConnectionOpe === void 0 ? function () {} : _ref2$onConnectionOpe,\n    _ref2$onConnetionClos = _ref2.onConnetionClose,\n    onConnetionClose = _ref2$onConnetionClos === void 0 ? function () {} : _ref2$onConnetionClos,\n    _ref2$onSwitchMeeting = _ref2.onSwitchMeeting,\n    onSwitchMeeting = _ref2$onSwitchMeeting === void 0 ? function () {} : _ref2$onSwitchMeeting,\n    _ref2$onError = _ref2.onError,\n    onError = _ref2$onError === void 0 ? function () {} : _ref2$onError,\n    _ref2$onHlsStarted = _ref2.onHlsStarted,\n    onHlsStarted = _ref2$onHlsStarted === void 0 ? function () {} : _ref2$onHlsStarted,\n    _ref2$onHlsStopped = _ref2.onHlsStopped,\n    onHlsStopped = _ref2$onHlsStopped === void 0 ? function () {} : _ref2$onHlsStopped,\n    _ref2$onHlsStateChang = _ref2.onHlsStateChanged,\n    onHlsStateChanged = _ref2$onHlsStateChang === void 0 ? function () {} : _ref2$onHlsStateChang,\n    _ref2$onRecordingStat = _ref2.onRecordingStateChanged,\n    onRecordingStateChanged = _ref2$onRecordingStat === void 0 ? function () {} : _ref2$onRecordingStat,\n    _ref2$onLivestreamSta = _ref2.onLivestreamStateChanged,\n    onLivestreamStateChanged = _ref2$onLivestreamSta === void 0 ? function () {} : _ref2$onLivestreamSta,\n    _ref2$onMeetingStateC = _ref2.onMeetingStateChanged,\n    onMeetingStateChanged = _ref2$onMeetingStateC === void 0 ? function () {} : _ref2$onMeetingStateC,\n    _ref2$onParticipantMo = _ref2.onParticipantModeChanged,\n    onParticipantModeChanged = _ref2$onParticipantMo === void 0 ? function () {} : _ref2$onParticipantMo;\n  useEffect(function () {\n    eventEmitter.on(events['meeting-state-changed'], onMeetingStateChanged);\n    eventEmitter.on(events['participant-joined'], onParticipantJoined);\n    eventEmitter.on(events['participant-left'], onParticipantLeft);\n    eventEmitter.on(events['speaker-changed'], onSpeakerChanged);\n    eventEmitter.on(events['presenter-changed'], onPresenterChanged);\n    eventEmitter.on(events['main-participant-changed'], onMainParticipantChanged);\n    eventEmitter.on(events['entry-requested'], onEntryRequested);\n    eventEmitter.on(events['entry-responded'], onEntryResponded);\n    eventEmitter.on(events['recording-started'], onRecordingStarted);\n    eventEmitter.on(events['recording-stopped'], onRecordingStopped);\n    eventEmitter.on(events['chat-message'], onChatMessage);\n    eventEmitter.on(events['meeting-joined'], onMeetingJoined);\n    eventEmitter.on(events['meeting-left'], onMeetingLeft);\n    eventEmitter.on(events['live-stream-enabled'], onLiveStreamStarted);\n    eventEmitter.on(events['live-stream-disabled'], onLiveStreamStopped);\n    eventEmitter.on(events['video-state-changed'], onVideoStateChanged);\n    eventEmitter.on(events['video-seeked'], onVideoSeeked);\n    eventEmitter.on(events['webcam-requested'], onWebcamRequested);\n    eventEmitter.on(events['mic-requested'], onMicRequested);\n    eventEmitter.on(events['pin-state-changed'], onPinStateChanged);\n    eventEmitter.on(events['connection-open'], onConnectionOpen);\n    eventEmitter.on(events['connection-close'], onConnetionClose);\n    eventEmitter.on(events['switch-meeting'], onSwitchMeeting);\n    eventEmitter.on(events['error'], onError);\n    eventEmitter.on(events['hls-started'], onHlsStarted);\n    eventEmitter.on(events['hls-stopped'], onHlsStopped);\n    eventEmitter.on(events['hls-state-changed'], onHlsStateChanged);\n    eventEmitter.on(events['recording-state-changed'], onRecordingStateChanged);\n    eventEmitter.on(events['livestream-state-changed'], onLivestreamStateChanged);\n    eventEmitter.on(events['participant-mode-changed'], onParticipantModeChanged);\n    return function () {\n      eventEmitter.off(events['meeting-state-changed'], onMeetingStateChanged);\n      eventEmitter.off(events['participant-joined'], onParticipantJoined);\n      eventEmitter.off(events['participant-left'], onParticipantLeft);\n      eventEmitter.off(events['speaker-changed'], onSpeakerChanged);\n      eventEmitter.off(events['presenter-changed'], onPresenterChanged);\n      eventEmitter.off(events['main-participant-changed'], onMainParticipantChanged);\n      eventEmitter.off(events['entry-requested'], onEntryRequested);\n      eventEmitter.off(events['entry-responded'], onEntryResponded);\n      eventEmitter.off(events['recording-started'], onRecordingStarted);\n      eventEmitter.off(events['recording-stopped'], onRecordingStopped);\n      eventEmitter.off(events['chat-message'], onChatMessage);\n      eventEmitter.off(events['meeting-joined'], onMeetingJoined);\n      eventEmitter.off(events['meeting-left'], onMeetingLeft);\n      eventEmitter.off(events['live-stream-enabled'], onLiveStreamStarted);\n      eventEmitter.off(events['live-stream-disabled'], onLiveStreamStopped);\n      eventEmitter.off(events['video-state-changed'], onVideoStateChanged);\n      eventEmitter.off(events['video-seeked'], onVideoSeeked);\n      eventEmitter.off(events['webcam-requested'], onWebcamRequested);\n      eventEmitter.off(events['mic-requested'], onMicRequested);\n      eventEmitter.off(events['pin-state-changed'], onPinStateChanged);\n      eventEmitter.off(events['connection-open'], onConnectionOpen);\n      eventEmitter.off(events['connection-close'], onConnetionClose);\n      eventEmitter.off(events['switch-meeting'], onSwitchMeeting);\n      eventEmitter.off(events['error'], onError);\n      eventEmitter.off(events['hls-started'], onHlsStarted);\n      eventEmitter.off(events['hls-stopped'], onHlsStopped);\n      eventEmitter.off(events['hls-state-changed'], onHlsStateChanged);\n      eventEmitter.off(events['recording-state-changed'], onRecordingStateChanged);\n      eventEmitter.off(events['livestream-state-changed'], onLivestreamStateChanged);\n      eventEmitter.off(events['participant-mode-changed'], onParticipantModeChanged);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MeetingProviderContex.Consumer, null, children));\n};\nvar version = \"0.1.66\";\nvar MeetingProvider = function MeetingProvider(_ref) {\n  var children = _ref.children,\n    config = _ref.config,\n    token = _ref.token,\n    joinWithoutUserInteraction = _ref.joinWithoutUserInteraction,\n    _reinitialiseMeetingOnConfigChange = _ref.reinitialiseMeetingOnConfigChange,\n    deviceInfo = _ref.deviceInfo;\n  var _useState = useState(null),\n    meeting = _useState[0],\n    setMeeting = _useState[1];\n  var _useState2 = useState(null),\n    localParticipant = _useState2[0],\n    setLocalParticipant = _useState2[1];\n  var _useState3 = useState(null),\n    mainParticipant = _useState3[0],\n    setMainParticipant = _useState3[1];\n  var _useState4 = useState(null),\n    activeSpeakerId = _useState4[0],\n    setActiveSpeakerId = _useState4[1];\n  var _useState5 = useState(null),\n    presenterId = _useState5[0],\n    setPresenterId = _useState5[1];\n  var _useState6 = useState(false),\n    localMicOn = _useState6[0],\n    setLocalMicOn = _useState6[1];\n  var _useState7 = useState(false),\n    localWebcamOn = _useState7[0],\n    setLocalWebcamOn = _useState7[1];\n  var _useState8 = useState(false),\n    localScreenShareOn = _useState8[0],\n    setLocalScreenShareOn = _useState8[1];\n  var _useState9 = useState(false),\n    isRecording = _useState9[0],\n    setIsRecording = _useState9[1];\n  var _useState10 = useState([]),\n    messages = _useState10[0],\n    setMessages = _useState10[1];\n  var _useState11 = useState(new Map()),\n    participants = _useState11[0],\n    setParticipants = _useState11[1];\n  var _useState12 = useState(new Map()),\n    pinnedParticipants = _useState12[0],\n    setPinnedParticipants = _useState12[1];\n  var _useState13 = useState(false),\n    isLiveStreaming = _useState13[0],\n    setIsLiveStreaming = _useState13[1];\n  var _useState14 = useState(new Map()),\n    connections = _useState14[0],\n    setConnections = _useState14[1];\n  var _useState15 = useState(false),\n    isMeetingJoined = _useState15[0],\n    setIsMeetingJoined = _useState15[1];\n  var _useState16 = useState(false),\n    isHls = _useState16[0],\n    setIsHls = _useState16[1];\n  var _useState17 = useState(null),\n    recordingState = _useState17[0],\n    setRecordingState = _useState17[1];\n  var _useState18 = useState(null),\n    livestreamState = _useState18[0],\n    setLivestreamState = _useState18[1];\n  var _useState19 = useState(null),\n    hlsState = _useState19[0],\n    setHlsState = _useState19[1];\n  var meetingRef = useRef();\n  var localMicOnRef = useRef();\n  var localWebcamOnRef = useRef();\n  var localScreenShareOnRef = useRef();\n  var isRecordingRef = useRef();\n  var configRef = useRef(config);\n  var tokenRef = useRef(token);\n  var joinedOnFirstRender = useRef(false);\n  var isHlsRef = useRef();\n  var reinitialiseMeetingOnConfigChange = useMemo(function () {\n    return _reinitialiseMeetingOnConfigChange;\n  }, []);\n  useEffect(function () {\n    meetingRef.current = meeting;\n  }, [meeting]);\n  useEffect(function () {\n    localMicOnRef.current = localMicOn;\n  }, [localMicOn]);\n  useEffect(function () {\n    localWebcamOnRef.current = localWebcamOn;\n  }, [localWebcamOn]);\n  useEffect(function () {\n    localScreenShareOnRef.current = localScreenShareOn;\n  }, [localScreenShareOn]);\n  useEffect(function () {\n    isRecordingRef.current = isRecording;\n  }, [isRecording]);\n  useEffect(function () {\n    configRef.current = config;\n  }, [config]);\n  useEffect(function () {\n    tokenRef.current = token;\n  }, [token]);\n  useEffect(function () {\n    isHlsRef.current = isHls;\n  }, [isHls]);\n  var resetStates = function resetStates() {\n    setMeeting(null);\n    setLocalParticipant(null);\n    setMainParticipant(null);\n    setActiveSpeakerId(null);\n    setPresenterId(null);\n    setLocalMicOn(false);\n    setLocalWebcamOn(false);\n    setLocalScreenShareOn(false);\n    setIsRecording(false);\n    setMessages([]);\n    setIsLiveStreaming(false);\n    setParticipants(new Map());\n    setPinnedParticipants(new Map());\n    setConnections(new Map());\n    setIsMeetingJoined(false);\n    setIsHls(false);\n    setRecordingState(null);\n    setLivestreamState(null);\n    setHlsState(null);\n  };\n  var _handle_participant_joined = function _handle_participant_joined(participant) {\n    setParticipants(function (participants) {\n      participants.set(participant.id, participant);\n      var participantsToSet = new Map(participants);\n      return participantsToSet;\n    });\n    eventEmitter.emit(events['participant-joined'], participant);\n  };\n  var _handle_participant_left = function _handle_participant_left(participant) {\n    setParticipants(function (participants) {\n      participants[\"delete\"](participant.id);\n      var newParticipants = new Map(participants);\n      return newParticipants;\n    });\n    eventEmitter.emit(events['participant-left'], participant);\n  };\n  var _handle_presenter_changed = function _handle_presenter_changed(presenterId) {\n    var _meetingRef$current, _meetingRef$current$l;\n    setPresenterId(presenterId);\n    setLocalScreenShareOn(presenterId === (meetingRef === null || meetingRef === void 0 ? void 0 : (_meetingRef$current = meetingRef.current) === null || _meetingRef$current === void 0 ? void 0 : (_meetingRef$current$l = _meetingRef$current.localParticipant) === null || _meetingRef$current$l === void 0 ? void 0 : _meetingRef$current$l.id));\n    eventEmitter.emit(events['presenter-changed'], presenterId);\n  };\n  var _handle_main_participant_changed = function _handle_main_participant_changed(participant) {\n    setMainParticipant(participant);\n    eventEmitter.emit(events['main-participant-changed'], participant);\n  };\n  var _handle_speaker_changed = function _handle_speaker_changed(activeSpeakerId) {\n    setActiveSpeakerId(activeSpeakerId);\n    eventEmitter.emit(events['speaker-changed'], activeSpeakerId);\n  };\n  var _handle_chat_message = function _handle_chat_message(data) {\n    setMessages(function (s) {\n      return [].concat(s, [data]);\n    });\n    eventEmitter.emit(events['chat-message'], data);\n  };\n  var _handle_entry_requested = function _handle_entry_requested(data) {\n    eventEmitter.emit(events['entry-requested'], data);\n  };\n  var _handle_entry_responded = function _handle_entry_responded(participantId, decision) {\n    eventEmitter.emit(events['entry-responded'], participantId, decision);\n  };\n  var _handle_recording_started = function _handle_recording_started() {\n    setIsRecording(true);\n    eventEmitter.emit(events['recording-started']);\n  };\n  var _handle_recording_stopped = function _handle_recording_stopped() {\n    setIsRecording(false);\n    eventEmitter.emit(events['recording-stopped']);\n  };\n  var _handle_localParticipant_stream_enabled = function _handle_localParticipant_stream_enabled(stream) {\n    if (stream.track.readyState === 'live') {\n      if (stream.kind === 'video') {\n        setLocalWebcamOn(true);\n      } else if (stream.kind === 'audio') {\n        setLocalMicOn(true);\n      }\n    }\n  };\n  var _handle_localParticipant_stream_disabled = function _handle_localParticipant_stream_disabled(stream) {\n    if (stream.track.readyState === 'ended') {\n      if (stream.kind === 'video') {\n        setLocalWebcamOn(false);\n      } else if (stream.kind === 'audio') {\n        setLocalMicOn(false);\n      }\n    }\n  };\n  var _handle_live_stream_started = function _handle_live_stream_started(data) {\n    setIsLiveStreaming(true);\n    eventEmitter.emit(events['live-stream-started'], data);\n  };\n  var _handle_live_stream_stopped = function _handle_live_stream_stopped() {\n    setIsLiveStreaming(false);\n    eventEmitter.emit(events['live-stream-stopped']);\n  };\n  var _handle_hls_started = function _handle_hls_started(data) {\n    setIsHls(true);\n    eventEmitter.emit(events['hls-started'], data);\n  };\n  var _handle_hls_stopped = function _handle_hls_stopped() {\n    setIsHls(false);\n    eventEmitter.emit(events['hls-stopped']);\n  };\n  var _handle_video_state_changed = function _handle_video_state_changed(data) {\n    eventEmitter.emit(events['video-state-changed'], data);\n  };\n  var _handle_video_seeked = function _handle_video_seeked(data) {\n    eventEmitter.emit(events['video-seeked'], data);\n  };\n  var _handle_webcam_requested = function _handle_webcam_requested(data) {\n    eventEmitter.emit(events['webcam-requested'], data);\n  };\n  var _handle_mic_requested = function _handle_mic_requested(data) {\n    eventEmitter.emit(events['mic-requested'], data);\n  };\n  var _handle_meeting_joined = function _handle_meeting_joined(data) {\n    joinedOnFirstRender.current = true;\n    setMessages(function (s) {\n      return [].concat(s, data.messages);\n    });\n    eventEmitter.emit(events['meeting-joined'], data);\n    setIsMeetingJoined(true);\n  };\n  var _handle_meeting_left = function _handle_meeting_left() {\n    eventEmitter.emit(events['meeting-left']);\n    var meeting = meetingRef.current;\n    if (meeting) {\n      var _meeting$localPartici;\n      if (typeof (meeting === null || meeting === void 0 ? void 0 : meeting.off) === 'function') {\n        meeting.off('meeting-state-changed', _handle_meeting_state_changed);\n        meeting.off('participant-joined', _handle_participant_joined);\n        meeting.off('participant-left', _handle_participant_left);\n        meeting.off('presenter-changed', _handle_presenter_changed);\n        meeting.off('main-participant-changed', _handle_main_participant_changed);\n        meeting.off('speaker-changed', _handle_speaker_changed);\n        meeting.off('entry-requested', _handle_entry_requested);\n        meeting.off('entry-responded', _handle_entry_responded);\n        meeting.off('chat-message', _handle_chat_message);\n        meeting.off('recording-started', _handle_recording_started);\n        meeting.off('recording-stopped', _handle_recording_stopped);\n        meeting.off('meeting-joined', _handle_meeting_joined);\n        meeting.off('meeting-left', _handle_meeting_left);\n        meeting.off('livestream-started', _handle_live_stream_started);\n        meeting.off('livestream-stopped', _handle_live_stream_stopped);\n        meeting.off('video-state-changed', _handle_video_state_changed);\n        meeting.off('video-seeked', _handle_video_seeked);\n        meeting.off('webcam-requested', _handle_webcam_requested);\n        meeting.off('mic-requested', _handle_mic_requested);\n        meeting.off('pin-state-changed', _handle_pin_state_changed);\n        meeting.off('connection-open', _handle_connection_open);\n        meeting.off('connection-close', _handle_connection_close);\n        meeting.off('switch-meeting', _handle_switch_meeting);\n        meeting.off('error', _handle_error);\n        meeting.off('hls-started', _handle_hls_started);\n        meeting.off('hls-stopped', _handle_hls_stopped);\n        meeting.off('recording-state-changed', _handle_recording_state_changed);\n        meeting.off('livestream-state-changed', _handle_livestream_state_changed);\n        meeting.off('hls-state-changed', _handle_hls_state_changed);\n        meeting.off('participant-mode-changed', _handel_participant_mode_changed);\n      }\n      if (typeof (meeting === null || meeting === void 0 ? void 0 : (_meeting$localPartici = meeting.localParticipant) === null || _meeting$localPartici === void 0 ? void 0 : _meeting$localPartici.off) === 'function') {\n        meeting.localParticipant.off('stream-enabled', _handle_localParticipant_stream_enabled);\n        meeting.localParticipant.off('stream-disabled', _handle_localParticipant_stream_disabled);\n      }\n      resetStates();\n    }\n  };\n  var _handle_pin_state_changed = function _handle_pin_state_changed(_ref2) {\n    var participantId = _ref2.participantId,\n      state = _ref2.state,\n      pinnedBy = _ref2.pinnedBy;\n    setPinnedParticipants(function (pinnedParticipants) {\n      if (!state.cam && !state.share) {\n        pinnedParticipants[\"delete\"](participantId);\n      } else {\n        pinnedParticipants.set(participantId, state);\n      }\n      var pinnedParticipantsToSet = new Map(pinnedParticipants);\n      return pinnedParticipantsToSet;\n    });\n    eventEmitter.emit(events['pin-state-changed'], {\n      participantId: participantId,\n      state: state,\n      pinnedBy: pinnedBy\n    });\n  };\n  var _handle_connection_open = function _handle_connection_open(connection) {\n    setConnections(function (s) {\n      s.set(connection.id, connection);\n      var connectionsToSet = new Map(s);\n      return connectionsToSet;\n    });\n    eventEmitter.emit(events['connection-open'], connection);\n  };\n  var _handle_connection_close = function _handle_connection_close(connectionId) {\n    setConnections(function (s) {\n      s[\"delete\"](connectionId);\n      var newConnections = new Map(s);\n      return newConnections;\n    });\n    eventEmitter.emit(events['connection-close'], connectionId);\n  };\n  var _handle_switch_meeting = function _handle_switch_meeting(d) {\n    eventEmitter.emit(events['switch-meeting'], d);\n  };\n  var _handle_error = function _handle_error(data) {\n    eventEmitter.emit(events['error'], data);\n  };\n  var _handle_recording_state_changed = function _handle_recording_state_changed(data) {\n    setRecordingState(data === null || data === void 0 ? void 0 : data.status);\n    eventEmitter.emit(events['recording-state-changed'], data);\n  };\n  var _handle_livestream_state_changed = function _handle_livestream_state_changed(data) {\n    setLivestreamState(data === null || data === void 0 ? void 0 : data.status);\n    eventEmitter.emit(events['livestream-state-changed'], data);\n  };\n  var _handle_hls_state_changed = function _handle_hls_state_changed(data) {\n    setHlsState(data === null || data === void 0 ? void 0 : data.status);\n    eventEmitter.emit(events['hls-state-changed'], data);\n  };\n  var _handle_meeting_state_changed = function _handle_meeting_state_changed(data) {\n    eventEmitter.emit(events['meeting-state-changed'], data);\n  };\n  var _handel_participant_mode_changed = function _handel_participant_mode_changed(data) {\n    var _meetingRef$current2, _meetingRef$current2$;\n    setParticipants(function (participants) {\n      var part = participants.get(data.participantId);\n      part.mode = data.mode;\n      participants.set(part.id, part);\n      return participants;\n    });\n    if (data.participantId === (meetingRef === null || meetingRef === void 0 ? void 0 : (_meetingRef$current2 = meetingRef.current) === null || _meetingRef$current2 === void 0 ? void 0 : (_meetingRef$current2$ = _meetingRef$current2.localParticipant) === null || _meetingRef$current2$ === void 0 ? void 0 : _meetingRef$current2$.id)) {\n      setLocalParticipant(function (participant) {\n        participant.mode = data.mode;\n        return participant;\n      });\n    }\n    eventEmitter.emit(events['participant-mode-changed'], data);\n  };\n  var join = function join() {\n    var meeting = VideoSDK && VideoSDK.initMeeting(configRef.current);\n    setMeeting(meeting);\n    var localParticipant = meeting.localParticipant,\n      participants = meeting.participants;\n    participants.set(localParticipant.id, localParticipant);\n    setParticipants(participants);\n    setLocalParticipant(localParticipant);\n    meeting.on('meeting-state-changed', _handle_meeting_state_changed);\n    meeting.on('participant-joined', _handle_participant_joined);\n    meeting.on('participant-left', _handle_participant_left);\n    meeting.on('presenter-changed', _handle_presenter_changed);\n    meeting.on('main-participant-changed', _handle_main_participant_changed);\n    meeting.on('speaker-changed', _handle_speaker_changed);\n    meeting.on('entry-requested', _handle_entry_requested);\n    meeting.on('entry-responded', _handle_entry_responded);\n    meeting.on('chat-message', _handle_chat_message);\n    meeting.on('recording-started', _handle_recording_started);\n    meeting.on('recording-stopped', _handle_recording_stopped);\n    meeting.on('meeting-joined', _handle_meeting_joined);\n    meeting.on('meeting-left', _handle_meeting_left);\n    meeting.on('livestream-started', _handle_live_stream_started);\n    meeting.on('livestream-stopped', _handle_live_stream_stopped);\n    meeting.on('video-state-changed', _handle_video_state_changed);\n    meeting.on('video-seeked', _handle_video_seeked);\n    meeting.on('webcam-requested', _handle_webcam_requested);\n    meeting.on('mic-requested', _handle_mic_requested);\n    meeting.on('pin-state-changed', _handle_pin_state_changed);\n    meeting.on('connection-open', _handle_connection_open);\n    meeting.on('connection-close', _handle_connection_close);\n    meeting.on('switch-meeting', _handle_switch_meeting);\n    meeting.on('error', _handle_error);\n    meeting.on('hls-started', _handle_hls_started);\n    meeting.on('hls-stopped', _handle_hls_stopped);\n    meeting.on('recording-state-changed', _handle_recording_state_changed);\n    meeting.on('livestream-state-changed', _handle_livestream_state_changed);\n    meeting.on('hls-state-changed', _handle_hls_state_changed);\n    meeting.on('participant-mode-changed', _handel_participant_mode_changed);\n    meeting.localParticipant.on('stream-enabled', _handle_localParticipant_stream_enabled);\n    meeting.localParticipant.on('stream-disabled', _handle_localParticipant_stream_disabled);\n    meeting.join();\n  };\n  var leave = function leave() {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.leave();\n    }\n  };\n  var end = function end() {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.end();\n    }\n  };\n  var startRecording = function startRecording(webhookUrl, awsDirPath, config) {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startRecording(webhookUrl, awsDirPath, config);\n    }\n  };\n  var stopRecording = function stopRecording() {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      var _isRecording = isRecordingRef.current;\n      if (_isRecording) {\n        meeting.stopRecording();\n      }\n    }\n  };\n  var unmuteMic = function unmuteMic(customAudioTrack) {\n    if (customAudioTrack === void 0) {\n      customAudioTrack = undefined;\n    }\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.unmuteMic(customAudioTrack);\n    }\n  };\n  var muteMic = function muteMic() {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.muteMic();\n    }\n  };\n  var toggleMic = function toggleMic(customAudioTrack) {\n    if (customAudioTrack === void 0) {\n      customAudioTrack = undefined;\n    }\n    var localMicOn = localMicOnRef.current;\n    if (localMicOn) {\n      muteMic();\n    } else {\n      unmuteMic(customAudioTrack);\n    }\n  };\n  var disableWebcam = function disableWebcam() {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.disableWebcam();\n    }\n  };\n  var enableWebcam = function enableWebcam(customVideoTrack) {\n    if (customVideoTrack === void 0) {\n      customVideoTrack = undefined;\n    }\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.enableWebcam(customVideoTrack);\n    }\n  };\n  var toggleWebcam = function toggleWebcam(customVideoTrack) {\n    if (customVideoTrack === void 0) {\n      customVideoTrack = undefined;\n    }\n    var localWebcamOn = localWebcamOnRef.current;\n    if (localWebcamOn) {\n      disableWebcam();\n    } else {\n      enableWebcam(customVideoTrack);\n    }\n  };\n  var disableScreenShare = function disableScreenShare() {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.disableScreenShare();\n    }\n  };\n  var enableScreenShare = function enableScreenShare(customScreenShareTrack) {\n    if (customScreenShareTrack === void 0) {\n      customScreenShareTrack = undefined;\n    }\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.enableScreenShare(customScreenShareTrack);\n    }\n  };\n  var toggleScreenShare = function toggleScreenShare(customScreenShareTrack) {\n    if (customScreenShareTrack === void 0) {\n      customScreenShareTrack = undefined;\n    }\n    var localScreenShareOn = localScreenShareOnRef.current;\n    if (localScreenShareOn) {\n      disableScreenShare();\n    } else {\n      enableScreenShare(customScreenShareTrack);\n    }\n  };\n  var changeMode = function changeMode(mode) {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.changeMode(mode);\n    }\n  };\n  var sendChatMessage = function sendChatMessage(text) {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.sendChatMessage(text);\n    }\n  };\n  var respondEntry = function respondEntry(participantId, decision) {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.respondEntry(participantId, decision);\n    }\n  };\n  var getMics = function getMics() {\n    try {\n      var _meeting = meetingRef.current;\n      return Promise.resolve(function () {\n        if (_meeting) {\n          return Promise.resolve(_meeting.getMics());\n        }\n      }());\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var getWebcams = function getWebcams() {\n    try {\n      var _meeting2 = meetingRef.current;\n      return Promise.resolve(function () {\n        if (_meeting2) {\n          return Promise.resolve(_meeting2.getWebcams());\n        }\n      }());\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var changeWebcam = function changeWebcam(obj) {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.changeWebcam(obj);\n    }\n  };\n  var changeMic = function changeMic(obj) {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.changeMic(obj);\n    }\n  };\n  var startVideo = function startVideo(_ref3) {\n    var link = _ref3.link;\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startVideo({\n        link: link\n      });\n    }\n  };\n  var stopVideo = function stopVideo() {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.stopVideo();\n    }\n  };\n  var resumeVideo = function resumeVideo() {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.resumeVideo();\n    }\n  };\n  var pauseVideo = function pauseVideo(_ref4) {\n    var currentTime = _ref4.currentTime;\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.pauseVideo({\n        currentTime: currentTime\n      });\n    }\n  };\n  var seekVideo = function seekVideo(_ref5) {\n    var currentTime = _ref5.currentTime;\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.seekVideo({\n        currentTime: currentTime\n      });\n    }\n  };\n  var startLivestream = function startLivestream(streamInfo, config) {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startLivestream(streamInfo, config);\n    }\n  };\n  var stopLivestream = function stopLivestream() {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.stopLivestream();\n    }\n  };\n  var connectTo = function connectTo(_ref6) {\n    var meetingId = _ref6.meetingId,\n      payload = _ref6.payload;\n    try {\n      var _meeting3 = meetingRef.current;\n      var _temp = function () {\n        if (_meeting3) {\n          return Promise.resolve(_meeting3.connectTo({\n            meetingId: meetingId,\n            payload: payload\n          })).then(function () {});\n        }\n      }();\n      return Promise.resolve(_temp && _temp.then ? _temp.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  var startHls = function startHls(config) {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startHls(config);\n    }\n  };\n  var stopHls = function stopHls() {\n    var meeting = meetingRef.current;\n    if (meeting) {\n      meeting.stopHls();\n    }\n  };\n  var initSDK = function initSDK() {\n    VideoSDK.config(tokenRef.current);\n    if (deviceInfo) {\n      VideoSDK.analytics(deviceInfo);\n    } else {\n      VideoSDK.analytics({\n        sdkType: 'react-web',\n        sdkVersion: version\n      });\n    }\n    if (joinWithoutUserInteraction) {\n      join();\n    }\n  };\n  useEffect(function () {\n    initSDK();\n  }, []);\n  useEffect(function () {\n    if (reinitialiseMeetingOnConfigChange && joinedOnFirstRender.current) {\n      leave();\n      initSDK();\n      !joinWithoutUserInteraction && join();\n    }\n  }, [config.meetingId, token, reinitialiseMeetingOnConfigChange]);\n  return /*#__PURE__*/React.createElement(MeetingProviderContex.Provider, {\n    value: {\n      meetingId: meeting === null || meeting === void 0 ? void 0 : meeting.id,\n      meeting: meeting,\n      baseUrl: meeting === null || meeting === void 0 ? void 0 : meeting.baseUrl,\n      localParticipant: localParticipant,\n      mainParticipant: mainParticipant,\n      activeSpeakerId: activeSpeakerId,\n      participants: participants,\n      presenterId: presenterId,\n      localMicOn: localMicOn,\n      localWebcamOn: localWebcamOn,\n      localScreenShareOn: localScreenShareOn,\n      messages: messages,\n      isRecording: isRecording,\n      isLiveStreaming: isLiveStreaming,\n      pinnedParticipants: pinnedParticipants,\n      connections: connections,\n      isHls: isHls,\n      recordingState: recordingState,\n      livestreamState: livestreamState,\n      hlsState: hlsState,\n      isMeetingJoined: isMeetingJoined,\n      join: join,\n      leave: leave,\n      end: end,\n      startRecording: startRecording,\n      stopRecording: stopRecording,\n      sendChatMessage: sendChatMessage,\n      respondEntry: respondEntry,\n      muteMic: muteMic,\n      unmuteMic: unmuteMic,\n      toggleMic: toggleMic,\n      disableWebcam: disableWebcam,\n      enableWebcam: enableWebcam,\n      toggleWebcam: toggleWebcam,\n      disableScreenShare: disableScreenShare,\n      enableScreenShare: enableScreenShare,\n      toggleScreenShare: toggleScreenShare,\n      getMics: getMics,\n      getWebcams: getWebcams,\n      changeWebcam: changeWebcam,\n      changeMic: changeMic,\n      changeMode: changeMode,\n      startVideo: startVideo,\n      stopVideo: stopVideo,\n      resumeVideo: resumeVideo,\n      pauseVideo: pauseVideo,\n      seekVideo: seekVideo,\n      startLivestream: startLivestream,\n      stopLivestream: stopLivestream,\n      connectTo: connectTo,\n      startHls: startHls,\n      stopHls: stopHls\n    }\n  }, children);\n};\nvar useParticipant = function useParticipant(participantId, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n    _ref$onStreamEnabled = _ref.onStreamEnabled,\n    onStreamEnabled = _ref$onStreamEnabled === void 0 ? function () {} : _ref$onStreamEnabled,\n    _ref$onStreamDisabled = _ref.onStreamDisabled,\n    onStreamDisabled = _ref$onStreamDisabled === void 0 ? function () {} : _ref$onStreamDisabled,\n    _ref$onMediaStatusCha = _ref.onMediaStatusChanged,\n    onMediaStatusChanged = _ref$onMediaStatusCha === void 0 ? function () {} : _ref$onMediaStatusCha,\n    _ref$onVideoQualityCh = _ref.onVideoQualityChanged,\n    onVideoQualityChanged = _ref$onVideoQualityCh === void 0 ? function () {} : _ref$onVideoQualityCh;\n  var _useState = useState(null),\n    webcamStream = _useState[0],\n    setwebcamStream = _useState[1];\n  var _useState2 = useState(null),\n    micStream = _useState2[0],\n    setMicStream = _useState2[1];\n  var _useState3 = useState(null),\n    screenShareStream = _useState3[0],\n    setScreenShareStream = _useState3[1];\n  var _useState4 = useState(null),\n    screenShareAudioStream = _useState4[0],\n    setScreenShareAudioStream = _useState4[1];\n  var meeting = useMeeting();\n  var _useMemo = useMemo(function () {\n      var _meeting$pinnedPartic;\n      var participants = meeting === null || meeting === void 0 ? void 0 : meeting.participants;\n      var localParticipant = meeting === null || meeting === void 0 ? void 0 : meeting.localParticipant;\n      var activeSpeakerId = meeting === null || meeting === void 0 ? void 0 : meeting.activeSpeakerId;\n      var mainParticipant = meeting === null || meeting === void 0 ? void 0 : meeting.mainParticipant;\n      var pinState = (meeting === null || meeting === void 0 ? void 0 : (_meeting$pinnedPartic = meeting.pinnedParticipants) === null || _meeting$pinnedPartic === void 0 ? void 0 : _meeting$pinnedPartic.get(participantId)) || {\n        cam: false,\n        share: false\n      };\n      return {\n        participants: participants,\n        localParticipant: localParticipant,\n        activeSpeakerId: activeSpeakerId,\n        mainParticipant: mainParticipant,\n        pinState: pinState\n      };\n    }, [meeting]),\n    participants = _useMemo.participants,\n    localParticipant = _useMemo.localParticipant,\n    activeSpeakerId = _useMemo.activeSpeakerId,\n    mainParticipant = _useMemo.mainParticipant,\n    pinState = _useMemo.pinState;\n  var participant = participants === null || participants === void 0 ? void 0 : participants.get(participantId);\n  var _useState5 = useState(participant === null || participant === void 0 ? void 0 : participant.webcamOn),\n    webcamOn = _useState5[0],\n    setWebcamOn = _useState5[1];\n  var _useState6 = useState(participant === null || participant === void 0 ? void 0 : participant.micOn),\n    micOn = _useState6[0],\n    setMicOn = _useState6[1];\n  var _useState7 = useState(participant === null || participant === void 0 ? void 0 : participant.mode),\n    mode = _useState7[0],\n    setMode = _useState7[1];\n  var setTrack = function setTrack(stream) {\n    if (stream.track.readyState === 'live') {\n      switch (stream.kind) {\n        case 'video':\n          if (webcamStream != null) {\n            setwebcamStream(null);\n          }\n          setwebcamStream(stream);\n          break;\n        case 'audio':\n          if (micStream != null) {\n            setMicStream(null);\n          }\n          setMicStream(stream);\n          break;\n        case 'share':\n          if (screenShareStream != null) {\n            setScreenShareStream(null);\n          }\n          setScreenShareStream(stream);\n          break;\n        case 'shareAudio':\n          if (screenShareAudioStream != null) {\n            setScreenShareAudioStream(null);\n          }\n          setScreenShareAudioStream(stream);\n          break;\n      }\n    }\n  };\n  var unSetTrack = function unSetTrack(stream) {\n    if (stream.track.readyState !== 'live') {\n      switch (stream.kind) {\n        case 'video':\n          setwebcamStream(null);\n          break;\n        case 'audio':\n          setMicStream(null);\n          break;\n        case 'share':\n          setScreenShareStream(null);\n          break;\n        case 'shareAudio':\n          setScreenShareAudioStream(null);\n          break;\n      }\n    }\n  };\n  var _handleStreamEnabled = function _handleStreamEnabled(stream) {\n    setTrack(stream);\n    onStreamEnabled(stream);\n  };\n  var _handleParticipantModeChanged = function _handleParticipantModeChanged(data) {\n    if (participantId === data.participantId) {\n      setMode(data.mode);\n    }\n  };\n  var _handleStreamDisabled = function _handleStreamDisabled(stream) {\n    unSetTrack(stream);\n    onStreamDisabled(stream);\n  };\n  var _handleVideoQualityChanged = function _handleVideoQualityChanged(data) {\n    var peerId = data.peerId,\n      prevQuality = data.prevQuality,\n      currentQuality = data.currentQuality;\n    onVideoQualityChanged({\n      peerId: peerId,\n      prevQuality: prevQuality,\n      currentQuality: currentQuality\n    });\n  };\n  var _handleMediaStatusChanged = function _handleMediaStatusChanged(data) {\n    var kind = data.kind,\n      peerId = data.peerId,\n      newStatus = data.newStatus;\n    if (kind == 'audio') {\n      setMicOn(newStatus);\n    } else if (kind == 'video') {\n      setWebcamOn(newStatus);\n    }\n    onMediaStatusChanged({\n      kind: kind,\n      peerId: peerId,\n      newStatus: newStatus\n    });\n  };\n  var setQuality = function setQuality(quality) {\n    participant === null || participant === void 0 ? void 0 : participant.setQuality(quality);\n  };\n  var setViewPort = function setViewPort(width, height) {\n    participant === null || participant === void 0 ? void 0 : participant.setViewPort(width, height);\n  };\n  var enableMic = function enableMic() {\n    participant === null || participant === void 0 ? void 0 : participant.enableMic();\n  };\n  var disableMic = function disableMic() {\n    participant === null || participant === void 0 ? void 0 : participant.disableMic();\n  };\n  var enableWebcam = function enableWebcam() {\n    participant === null || participant === void 0 ? void 0 : participant.enableWebcam();\n  };\n  var disableWebcam = function disableWebcam() {\n    participant === null || participant === void 0 ? void 0 : participant.disableWebcam();\n  };\n  var pin = function pin(data) {\n    participant === null || participant === void 0 ? void 0 : participant.pin(data);\n  };\n  var unpin = function unpin(data) {\n    participant === null || participant === void 0 ? void 0 : participant.unpin(data);\n  };\n  var getAudioStats = function getAudioStats() {\n    return Promise.resolve(participant === null || participant === void 0 ? void 0 : participant.getAudioStats());\n  };\n  var getVideoStats = function getVideoStats() {\n    return Promise.resolve(participant === null || participant === void 0 ? void 0 : participant.getVideoStats());\n  };\n  var getShareStats = function getShareStats() {\n    return Promise.resolve(participant === null || participant === void 0 ? void 0 : participant.getShareStats());\n  };\n  var consumeWebcamStreams = function consumeWebcamStreams() {\n    participant === null || participant === void 0 ? void 0 : participant.consumeWebcamStreams();\n  };\n  var consumeMicStreams = function consumeMicStreams() {\n    participant === null || participant === void 0 ? void 0 : participant.consumeMicStreams();\n  };\n  var stopConsumingWebcamStreams = function stopConsumingWebcamStreams() {\n    participant === null || participant === void 0 ? void 0 : participant.stopConsumingWebcamStreams();\n  };\n  var stopConsumingMicStreams = function stopConsumingMicStreams() {\n    participant === null || participant === void 0 ? void 0 : participant.stopConsumingMicStreams();\n  };\n  var switchTo = function switchTo(data) {\n    return Promise.resolve(participant === null || participant === void 0 ? void 0 : participant.switchTo(data)).then(function () {});\n  };\n  useEffect(function () {\n    var streams = participant === null || participant === void 0 ? void 0 : participant.streams;\n    if (streams) {\n      streams.forEach(function (stream) {\n        setTrack(stream);\n      });\n    }\n    if (participant !== null && participant !== void 0 && participant.micOn) {\n      setMicOn(micOn);\n    }\n    if (participant !== null && participant !== void 0 && participant.webcamOn) {\n      setWebcamOn(webcamOn);\n    }\n    participant === null || participant === void 0 ? void 0 : participant.on('stream-enabled', _handleStreamEnabled);\n    participant === null || participant === void 0 ? void 0 : participant.on('stream-disabled', _handleStreamDisabled);\n    participant === null || participant === void 0 ? void 0 : participant.on('media-status-changed', _handleMediaStatusChanged);\n    participant === null || participant === void 0 ? void 0 : participant.on('video-quality-changed', _handleVideoQualityChanged);\n    eventEmitter.on(events['participant-mode-changed'], _handleParticipantModeChanged);\n    return function () {\n      participant === null || participant === void 0 ? void 0 : participant.off('stream-enabled', _handleStreamEnabled);\n      participant === null || participant === void 0 ? void 0 : participant.off('stream-disabled', _handleStreamDisabled);\n      participant === null || participant === void 0 ? void 0 : participant.off('media-status-changed', _handleMediaStatusChanged);\n      participant === null || participant === void 0 ? void 0 : participant.off('video-quality-changed', _handleVideoQualityChanged);\n      eventEmitter.off(events['participant-mode-changed'], _handleParticipantModeChanged);\n    };\n  }, [participant]);\n  return {\n    displayName: participant === null || participant === void 0 ? void 0 : participant.displayName,\n    participant: participant,\n    webcamStream: webcamStream,\n    micStream: micStream,\n    screenShareStream: screenShareStream,\n    screenShareAudioStream: screenShareAudioStream,\n    webcamOn: webcamOn || !!webcamStream,\n    micOn: micOn || !!micStream,\n    mode: mode,\n    screenShareOn: !!screenShareStream,\n    isLocal: (localParticipant === null || localParticipant === void 0 ? void 0 : localParticipant.id) === participantId,\n    isActiveSpeaker: activeSpeakerId === participantId,\n    isMainParticipant: (mainParticipant === null || mainParticipant === void 0 ? void 0 : mainParticipant.id) === participantId,\n    pinState: pinState,\n    consumeMicStreams: consumeMicStreams,\n    consumeWebcamStreams: consumeWebcamStreams,\n    stopConsumingMicStreams: stopConsumingMicStreams,\n    stopConsumingWebcamStreams: stopConsumingWebcamStreams,\n    setQuality: setQuality,\n    setViewPort: setViewPort,\n    enableMic: enableMic,\n    disableMic: disableMic,\n    enableWebcam: enableWebcam,\n    disableWebcam: disableWebcam,\n    pin: pin,\n    unpin: unpin,\n    switchTo: switchTo,\n    getAudioStats: getAudioStats,\n    getVideoStats: getVideoStats,\n    getShareStats: getShareStats\n  };\n};\nvar useConnection = function useConnection(connectionId, _temp) {\n  var _ref = _temp === void 0 ? {\n      onMeeting: {\n        onParticipantJoined: function onParticipantJoined() {},\n        onParticipantLeft: function onParticipantLeft() {},\n        onChatMessage: function onChatMessage() {}\n      }\n    } : _temp,\n    onMeeting = _ref.onMeeting;\n  var onParticipantJoined = onMeeting === null || onMeeting === void 0 ? void 0 : onMeeting.onParticipantJoined;\n  var onParticipantLeft = onMeeting === null || onMeeting === void 0 ? void 0 : onMeeting.onParticipantLeft;\n  var onChatMessage = onMeeting === null || onMeeting === void 0 ? void 0 : onMeeting.onChatMessage;\n  var meeting = useMeeting();\n  var _useMemo = useMemo(function () {\n      var connection = meeting === null || meeting === void 0 ? void 0 : meeting.connections.get(connectionId);\n      if (!connection) {\n        throw new Error('connectionId not found');\n      }\n      var connectionParticipants = new Map(connection.meeting.participants);\n      return {\n        connection: connection,\n        connectionParticipants: connectionParticipants\n      };\n    }, [meeting]),\n    connection = _useMemo.connection,\n    connectionParticipants = _useMemo.connectionParticipants;\n  var _useState = useState(new Map(connectionParticipants)),\n    _connectionParticipants = _useState[0],\n    setConnectionParticipants = _useState[1];\n  var _handleParticipantJoined = function _handleParticipantJoined(participant) {\n    setConnectionParticipants(function (s) {\n      s.set(participant.id, participant);\n      var participantsToSet = new Map(s);\n      return participantsToSet;\n    });\n    onParticipantJoined(participant);\n  };\n  var _handleParticipantLeft = function _handleParticipantLeft(participantId) {\n    setConnectionParticipants(function (s) {\n      s[\"delete\"](participantId);\n      var newParticipants = new Map(s);\n      return newParticipants;\n    });\n    onParticipantLeft(participantId);\n  };\n  var _handleChatMessage = function _handleChatMessage(data) {\n    onChatMessage(data);\n  };\n  useEffect(function () {\n    connection === null || connection === void 0 ? void 0 : connection.meeting.on('participant-joined', _handleParticipantJoined);\n    connection === null || connection === void 0 ? void 0 : connection.meeting.on('participant-left', _handleParticipantLeft);\n    connection === null || connection === void 0 ? void 0 : connection.meeting.on('chat-message', _handleChatMessage);\n    return function () {\n      connection === null || connection === void 0 ? void 0 : connection.meeting.off('participant-joined', _handleParticipantJoined);\n      connection === null || connection === void 0 ? void 0 : connection.meeting.off('participant-left', _handleParticipantLeft);\n      connection === null || connection === void 0 ? void 0 : connection.meeting.off('chat-message', _handleChatMessage);\n    };\n  }, [connection]);\n  return {\n    connection: {\n      id: connection.id,\n      close: connection.close,\n      payload: connection.payload,\n      meeting: {\n        id: connection.meeting.id,\n        sendChatMessage: connection.meeting.sendChatMessage,\n        end: connection.meeting.end,\n        participants: _connectionParticipants\n      }\n    }\n  };\n};\nvar usePubSub = function usePubSub(topic, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n    _ref$onMessageReceive = _ref.onMessageReceived,\n    onMessageReceived = _ref$onMessageReceive === void 0 ? function () {} : _ref$onMessageReceive,\n    _ref$onOldMessagesRec = _ref.onOldMessagesReceived,\n    onOldMessagesReceived = _ref$onOldMessagesRec === void 0 ? function () {} : _ref$onOldMessagesRec;\n  var _useMeeting = useMeeting(),\n    meeting = _useMeeting.meeting,\n    isMeetingJoined = _useMeeting.isMeetingJoined;\n  var _useState = useState([]),\n    messages = _useState[0],\n    setMessages = _useState[1];\n  var isSubscribed = useRef(false);\n  var publish = function publish(message, options) {\n    if (meeting) {\n      meeting.pubSub.publish(topic, message, options);\n    }\n  };\n  var _handlePubSub = function _handlePubSub(data) {\n    setMessages(function (s) {\n      return [].concat(s, [data]);\n    });\n    onMessageReceived(data);\n  };\n  var subscribeToPubsub = function subscribeToPubsub(meeting) {\n    try {\n      var _meeting$pubSub;\n      return Promise.resolve(meeting === null || meeting === void 0 ? void 0 : (_meeting$pubSub = meeting.pubSub) === null || _meeting$pubSub === void 0 ? void 0 : _meeting$pubSub.subscribe(topic, _handlePubSub)).then(function (data) {\n        if (data) {\n          onOldMessagesReceived(data.messages);\n          setMessages(data.messages);\n        }\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n  useEffect(function () {\n    if (meeting && !isSubscribed.current && isMeetingJoined) {\n      isSubscribed.current = true;\n      subscribeToPubsub(meeting);\n      return function () {\n        var _meeting$pubSub2;\n        meeting === null || meeting === void 0 ? void 0 : (_meeting$pubSub2 = meeting.pubSub) === null || _meeting$pubSub2 === void 0 ? void 0 : _meeting$pubSub2.unsubscribe(topic, _handlePubSub);\n      };\n    }\n  }, [meeting, isMeetingJoined]);\n  return {\n    publish: publish,\n    messages: messages\n  };\n};\nvar Constants = VideoSDK.Constants;\nvar createCameraVideoTrack = function createCameraVideoTrack(_ref) {\n  var _ref$cameraId = _ref.cameraId,\n    cameraId = _ref$cameraId === void 0 ? undefined : _ref$cameraId,\n    _ref$encoderConfig = _ref.encoderConfig,\n    encoderConfig = _ref$encoderConfig === void 0 ? undefined : _ref$encoderConfig,\n    _ref$facingMode = _ref.facingMode,\n    facingMode = _ref$facingMode === void 0 ? undefined : _ref$facingMode,\n    _ref$optimizationMode = _ref.optimizationMode,\n    optimizationMode = _ref$optimizationMode === void 0 ? undefined : _ref$optimizationMode,\n    _ref$multiStream = _ref.multiStream,\n    multiStream = _ref$multiStream === void 0 ? true : _ref$multiStream;\n  try {\n    return Promise.resolve(VideoSDK.createCameraVideoTrack({\n      cameraId: cameraId,\n      encoderConfig: encoderConfig,\n      facingMode: facingMode,\n      optimizationMode: optimizationMode,\n      multiStream: multiStream\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\nvar createScreenShareVideoTrack = function createScreenShareVideoTrack(_ref2) {\n  var _ref2$encoderConfig = _ref2.encoderConfig,\n    encoderConfig = _ref2$encoderConfig === void 0 ? undefined : _ref2$encoderConfig,\n    _ref2$optimizationMod = _ref2.optimizationMode,\n    optimizationMode = _ref2$optimizationMod === void 0 ? undefined : _ref2$optimizationMod,\n    _ref2$withAudio = _ref2.withAudio,\n    withAudio = _ref2$withAudio === void 0 ? 'enable' : _ref2$withAudio;\n  try {\n    return Promise.resolve(VideoSDK.createScreenShareVideoTrack({\n      encoderConfig: encoderConfig,\n      optimizationMode: optimizationMode,\n      withAudio: withAudio\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\nvar createMicrophoneAudioTrack = function createMicrophoneAudioTrack(_ref3) {\n  var _ref3$noiseConfig = _ref3.noiseConfig,\n    noiseConfig = _ref3$noiseConfig === void 0 ? undefined : _ref3$noiseConfig,\n    _ref3$encoderConfig = _ref3.encoderConfig,\n    encoderConfig = _ref3$encoderConfig === void 0 ? undefined : _ref3$encoderConfig,\n    _ref3$microphoneId = _ref3.microphoneId,\n    microphoneId = _ref3$microphoneId === void 0 ? undefined : _ref3$microphoneId;\n  try {\n    return Promise.resolve(VideoSDK.createMicrophoneAudioTrack({\n      noiseConfig: noiseConfig,\n      encoderConfig: encoderConfig,\n      microphoneId: microphoneId\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\nexport { Constants, MeetingConsumer, MeetingProvider, createCameraVideoTrack, createMicrophoneAudioTrack, createScreenShareVideoTrack, useConnection, useMeeting, useParticipant, usePubSub };","map":{"version":3,"names":["eventPrifix","events","error","eventEmitter","EventEmitter","setMaxListeners","MeetingProviderContex","createContext","useMeeting","_temp","_ref","_ref$onParticipantJoi","onParticipantJoined","_ref$onParticipantLef","onParticipantLeft","_ref$onSpeakerChanged","onSpeakerChanged","_ref$onPresenterChang","onPresenterChanged","_ref$onMainParticipan","onMainParticipantChanged","_ref$onEntryRequested","onEntryRequested","_ref$onEntryResponded","onEntryResponded","_ref$onRecordingStart","onRecordingStarted","_ref$onRecordingStopp","onRecordingStopped","_ref$onChatMessage","onChatMessage","_ref$onMeetingJoined","onMeetingJoined","_ref$onMeetingLeft","onMeetingLeft","_ref$onLiveStreamStar","onLiveStreamStarted","_ref$onLiveStreamStop","onLiveStreamStopped","_ref$onVideoStateChan","onVideoStateChanged","_ref$onVideoSeeked","onVideoSeeked","_ref$onWebcamRequeste","onWebcamRequested","_ref$onMicRequested","onMicRequested","_ref$onPinStateChange","onPinStateChanged","_ref$onConnectionOpen","onConnectionOpen","_ref$onConnetionClose","onConnetionClose","_ref$onSwitchMeeting","onSwitchMeeting","_ref$onError","onError","_ref$onHlsStarted","onHlsStarted","_ref$onHlsStopped","onHlsStopped","_ref$onHlsStateChange","onHlsStateChanged","_ref$onRecordingState","onRecordingStateChanged","_ref$onLivestreamStat","onLivestreamStateChanged","_ref$onMeetingStateCh","onMeetingStateChanged","_ref$onParticipantMod","onParticipantModeChanged","useEffect","on","off","useContext","MeetingConsumer","_ref2","children","_ref2$onParticipantJo","_ref2$onParticipantLe","_ref2$onSpeakerChange","_ref2$onPresenterChan","_ref2$onMainParticipa","_ref2$onEntryRequeste","_ref2$onEntryResponde","_ref2$onRecordingStar","_ref2$onRecordingStop","_ref2$onChatMessage","_ref2$onMeetingJoined","_ref2$onMeetingLeft","_ref2$onLiveStreamSta","_ref2$onLiveStreamSto","_ref2$onVideoStateCha","_ref2$onVideoSeeked","_ref2$onWebcamRequest","_ref2$onMicRequested","_ref2$onPinStateChang","_ref2$onConnectionOpe","_ref2$onConnetionClos","_ref2$onSwitchMeeting","_ref2$onError","_ref2$onHlsStarted","_ref2$onHlsStopped","_ref2$onHlsStateChang","_ref2$onRecordingStat","_ref2$onLivestreamSta","_ref2$onMeetingStateC","_ref2$onParticipantMo","React","createElement","Fragment","Consumer","MeetingProvider","config","token","joinWithoutUserInteraction","_reinitialiseMeetingOnConfigChange","reinitialiseMeetingOnConfigChange","deviceInfo","_useState","useState","meeting","setMeeting","_useState2","localParticipant","setLocalParticipant","_useState3","mainParticipant","setMainParticipant","_useState4","activeSpeakerId","setActiveSpeakerId","_useState5","presenterId","setPresenterId","_useState6","localMicOn","setLocalMicOn","_useState7","localWebcamOn","setLocalWebcamOn","_useState8","localScreenShareOn","setLocalScreenShareOn","_useState9","isRecording","setIsRecording","_useState10","messages","setMessages","_useState11","Map","participants","setParticipants","_useState12","pinnedParticipants","setPinnedParticipants","_useState13","isLiveStreaming","setIsLiveStreaming","_useState14","connections","setConnections","_useState15","isMeetingJoined","setIsMeetingJoined","_useState16","isHls","setIsHls","_useState17","recordingState","setRecordingState","_useState18","livestreamState","setLivestreamState","_useState19","hlsState","setHlsState","meetingRef","useRef","localMicOnRef","localWebcamOnRef","localScreenShareOnRef","isRecordingRef","configRef","tokenRef","joinedOnFirstRender","isHlsRef","useMemo","current","resetStates","_handle_participant_joined","participant","set","id","participantsToSet","emit","_handle_participant_left","newParticipants","_handle_presenter_changed","_meetingRef$current","_meetingRef$current$l","_handle_main_participant_changed","_handle_speaker_changed","_handle_chat_message","data","s","concat","_handle_entry_requested","_handle_entry_responded","participantId","decision","_handle_recording_started","_handle_recording_stopped","_handle_localParticipant_stream_enabled","stream","track","readyState","kind","_handle_localParticipant_stream_disabled","_handle_live_stream_started","_handle_live_stream_stopped","_handle_hls_started","_handle_hls_stopped","_handle_video_state_changed","_handle_video_seeked","_handle_webcam_requested","_handle_mic_requested","_handle_meeting_joined","_handle_meeting_left","_meeting$localPartici","_handle_meeting_state_changed","_handle_pin_state_changed","_handle_connection_open","_handle_connection_close","_handle_switch_meeting","_handle_error","_handle_recording_state_changed","_handle_livestream_state_changed","_handle_hls_state_changed","_handel_participant_mode_changed","state","pinnedBy","cam","share","pinnedParticipantsToSet","connection","connectionsToSet","connectionId","newConnections","d","status","_meetingRef$current2","_meetingRef$current2$","part","get","mode","join","VideoSDK","initMeeting","leave","end","startRecording","webhookUrl","awsDirPath","stopRecording","_isRecording","unmuteMic","customAudioTrack","undefined","muteMic","toggleMic","disableWebcam","enableWebcam","customVideoTrack","toggleWebcam","disableScreenShare","enableScreenShare","customScreenShareTrack","toggleScreenShare","changeMode","sendChatMessage","text","respondEntry","getMics","_meeting","Promise","resolve","e","reject","getWebcams","_meeting2","changeWebcam","obj","changeMic","startVideo","_ref3","link","stopVideo","resumeVideo","pauseVideo","_ref4","currentTime","seekVideo","_ref5","startLivestream","streamInfo","stopLivestream","connectTo","_ref6","meetingId","payload","_meeting3","then","startHls","stopHls","initSDK","analytics","sdkType","sdkVersion","version","Provider","value","baseUrl","useParticipant","_ref$onStreamEnabled","onStreamEnabled","_ref$onStreamDisabled","onStreamDisabled","_ref$onMediaStatusCha","onMediaStatusChanged","_ref$onVideoQualityCh","onVideoQualityChanged","webcamStream","setwebcamStream","micStream","setMicStream","screenShareStream","setScreenShareStream","screenShareAudioStream","setScreenShareAudioStream","_useMemo","_meeting$pinnedPartic","pinState","webcamOn","setWebcamOn","micOn","setMicOn","setMode","setTrack","unSetTrack","_handleStreamEnabled","_handleParticipantModeChanged","_handleStreamDisabled","_handleVideoQualityChanged","peerId","prevQuality","currentQuality","_handleMediaStatusChanged","newStatus","setQuality","quality","setViewPort","width","height","enableMic","disableMic","pin","unpin","getAudioStats","getVideoStats","getShareStats","consumeWebcamStreams","consumeMicStreams","stopConsumingWebcamStreams","stopConsumingMicStreams","switchTo","streams","forEach","displayName","screenShareOn","isLocal","isActiveSpeaker","isMainParticipant","useConnection","onMeeting","Error","connectionParticipants","_connectionParticipants","setConnectionParticipants","_handleParticipantJoined","_handleParticipantLeft","_handleChatMessage","close","usePubSub","topic","_ref$onMessageReceive","onMessageReceived","_ref$onOldMessagesRec","onOldMessagesReceived","_useMeeting","isSubscribed","publish","message","options","pubSub","_handlePubSub","subscribeToPubsub","_meeting$pubSub","subscribe","_meeting$pubSub2","unsubscribe","Constants","createCameraVideoTrack","_ref$cameraId","cameraId","_ref$encoderConfig","encoderConfig","_ref$facingMode","facingMode","_ref$optimizationMode","optimizationMode","_ref$multiStream","multiStream","createScreenShareVideoTrack","_ref2$encoderConfig","_ref2$optimizationMod","_ref2$withAudio","withAudio","createMicrophoneAudioTrack","_ref3$noiseConfig","noiseConfig","_ref3$encoderConfig","_ref3$microphoneId","microphoneId"],"sources":["/Users/erickagullo/Desktop/directo-ventas/vv/node_modules/@videosdk.live/react-sdk/src/utils.js","/Users/erickagullo/Desktop/directo-ventas/vv/node_modules/@videosdk.live/react-sdk/src/meeting/meetingProviderContextDef.js","/Users/erickagullo/Desktop/directo-ventas/vv/node_modules/@videosdk.live/react-sdk/src/meeting/MeetingProvider.js","/Users/erickagullo/Desktop/directo-ventas/vv/node_modules/@videosdk.live/react-sdk/src/participant/useParticipant.js","/Users/erickagullo/Desktop/directo-ventas/vv/node_modules/@videosdk.live/react-sdk/src/connection/useConnection.js","/Users/erickagullo/Desktop/directo-ventas/vv/node_modules/@videosdk.live/react-sdk/src/pubSub/usePubSub.js","/Users/erickagullo/Desktop/directo-ventas/vv/node_modules/@videosdk.live/react-sdk/src/index.js"],"sourcesContent":["import EventEmitter from 'events';\n\nconst eventPrifix = 'videosdk-live-react-sdk';\n\nconst events = {\n  'participant-joined': `${eventPrifix}-participant-joined`,\n  'participant-left': `${eventPrifix}-participant-left`,\n  'speaker-changed': `${eventPrifix}-speaker-changed`,\n  'presenter-changed': `${eventPrifix}-presenter-changed`,\n  'main-participant-changed': `${eventPrifix}-main-participant-changed`,\n  'entry-requested': `${eventPrifix}-entry-requested`,\n  'entry-responded': `${eventPrifix}-entry-responded`,\n  'recording-started': `${eventPrifix}-recording-started`,\n  'recording-stopped': `${eventPrifix}-recording-stopped`,\n  'chat-message': `${eventPrifix}-chat-message`,\n  'meeting-joined': `${eventPrifix}-meeting-joined`,\n  'meeting-left': `${eventPrifix}-meeting-left`,\n  'live-stream-started': `${eventPrifix}-live-stream-started`,\n  'live-stream-stopped': `${eventPrifix}-live-stream-stopped`,\n  'video-state-changed': `${eventPrifix}-video-state-changed`,\n  'video-seeked': `${eventPrifix}-video-seeked`,\n  'webcam-requested': `${eventPrifix}-webcam-requested`,\n  'mic-requested': `${eventPrifix}-mic-requested`,\n  'pin-state-changed': `${eventPrifix}-pin-state-changed`,\n  'connection-open': `${eventPrifix}-connection-open`,\n  'connection-close': `${eventPrifix}-connection-close`,\n  'switch-meeting': `${eventPrifix}-switch-meeting`,\n  error: `${eventPrifix}-error`,\n  'hls-started': `${eventPrifix}-hls-started`,\n  'hls-stopped': `${eventPrifix}-hls-stopped`,\n  'hls-state-changed': `${eventPrifix}-hls-state-changed`,\n  'recording-state-changed': `${eventPrifix}-recording-state-changed`,\n  'livestream-state-changed': `${eventPrifix}-livestream-state-changed`,\n  'meeting-state-changed': `${eventPrifix}-meeting-state-changed`,\n  'participant-mode-changed': `${eventPrifix}-participant-mode-changed`\n};\n\nconst eventEmitter = new EventEmitter();\neventEmitter.setMaxListeners(9999);\n\nexport { eventEmitter, events };\n","import React from 'react';\nimport { useContext, createContext, useEffect } from 'react';\nimport { eventEmitter, events } from '../utils';\nexport const MeetingProviderContex = createContext();\n\n/**\n *\n * @param {{\n *  onParticipantJoined?: () => void;\n *  onParticipantLeft?: () => void;\n *  onSpeakerChanged?: () => void;\n *  onPresenterChanged?: () => void;\n *  onMainParticipantChanged?: () => void;\n *  onEntryRequested?: () => void;\n *  onEntryResponded?: () => void;\n *  onRecordingStarted?: () => void;\n *  onRecordingStopped?: () => void;\n *  onChatMessage?: () => void;\n *  onMeetingJoined?: () => void;\n *  onMeetingLeft?: () => void;\n *  onLiveStreamStarted?: () => void;\n *  onLiveStreamStopped?: () => void;\n *  onVideoStateChanged?: () => void;\n *  onVideoSeeked?: () => void;\n *  onWebcamRequested?: () => void;\n *  onMicRequested?: () => void;\n *  onPinStateChanged?: () => void;\n *  onConnectionOpen?: () => void;\n *  onConnetionClose?: () => void;\n *  onSwitchMeeting?: () => void;\n *  onError?: () => void;\n *  onHlsStarted?: () => void;\n *  onHlsStopped?: () => void;\n *  onHlsStateChanged?: () => void;\n *  onRecordingStateChanged?: () => void;\n *  onLivestreamStateChanged?: () => void;\n *  onMeetingStateChanged?: () => void;\n *}}\n * @returns {{\n *  meetingId: string,\n *  meeting: Meeting,\n *  localParticipant: Participant,\n *  activeSpeakerId: string,\n *  participants: Map<string, Participant>,\n *  pinnedParticipants: Map<string, {cam:boolean, share:boolean}>,\n *  presenterId: string,\n *  localMicOn: boolean,\n *  localWebcamOn: boolean,\n *  isRecording: boolean,\n *  isLiveStreaming: boolean,\n *  localScreenShareOn: boolean,\n *  connections: Map<string, Connection>,\n *  join: () => void\n *  leave: () => void\n *  end: () => void\n *  unmuteMic: (customAudioTrack?: MediaStream | undefined) => void\n *  muteMic: () => void\n *  toggleMic: (customAudioTrack?: MediaStream | undefined) => void\n *  enableWebcam: (customVideoTrack?: MediaStream | undefined) => void\n *  disableWebcam: () => void\n *  toggleWebcam: (customVideoTrack?: MediaStream | undefined) => void\n *  enableScreenShare: (customScreenShareTrack?: MediaStream | undefined) => void\n *  disableScreenShare: () => void\n *  toggleScreenShare: (customScreenShareTrack?: MediaStream | undefined) => void\n *  startRecording: (webhookUrl?: string, awsDirPath?: string, config?: {\n *    layout: {\n *      type: \"GRID\" | \"SPOTLIGHT\" | \"SIDEBAR\";\n *      priority: \"SPEAKER\" | \"PIN\";\n *      gridSize: number;\n *    };\n *   }) => void\n *  stopRecording: () => void\n *  startLiveStream: (outputs: Array<{\n *       url: string;\n *       streamKey: string;\n *   }>,\n *   config?: {\n *    layout: {\n *      type: \"GRID\" | \"SPOTLIGHT\" | \"SIDEBAR\";\n *      priority: \"SPEAKER\" | \"PIN\";\n *      gridSize: number;\n *    };\n *   }) => void\n *  stopLiveStream: () => void\n *  startHls: (config?: {\n *    layout: {\n *      type: \"GRID\" | \"SPOTLIGHT\" | \"SIDEBAR\";\n *      priority: \"SPEAKER\" | \"PIN\";\n *      gridSize: number;\n *    };\n *   }) => void\n *  stopHls: () => void\n *  getMics: () => Promise<{\n *       deviceId: string;\n *       label: string;\n *   }[]>void\n *  getWebcams: () => Promise<{\n *       deviceId: string;\n *       label: string;\n *       facingMode: \"environment\" | \"front\"\n *   }[]>void\n *  changeMic: (object: string | MediaStream) => void\n *  changeWebcam: (object: string | MediaStream) => void\n *  startVideo: ({ link }: {\n *       link: string;\n *   }) => void\n *  stopVideo: () => void\n *  pauseVideo: ({ currentTime }: {\n *       currentTime: number;\n *   }) => void\n *  resumeVideo: () => void\n *  seekVideo: ({ currentTime }: {\n *       currentTime: number;\n *   }) => void\n *  connectTo: ({ meetingId, payload }: {\n *       meetingId: string;\n *       payload: string;\n *   }) => void\n *\n * }}\n */\nexport const useMeeting = ({\n  onParticipantJoined = () => {},\n  onParticipantLeft = () => {},\n  onSpeakerChanged = () => {},\n  onPresenterChanged = () => {},\n  onMainParticipantChanged = () => {},\n  onEntryRequested = () => {},\n  onEntryResponded = () => {},\n  onRecordingStarted = () => {},\n  onRecordingStopped = () => {},\n  onChatMessage = () => {},\n  onMeetingJoined = () => {},\n  onMeetingLeft = () => {},\n  onLiveStreamStarted = () => {},\n  onLiveStreamStopped = () => {},\n  onVideoStateChanged = () => {},\n  onVideoSeeked = () => {},\n  onWebcamRequested = () => {},\n  onMicRequested = () => {},\n  onPinStateChanged = () => {},\n  onConnectionOpen = () => {},\n  onConnetionClose = () => {},\n  onSwitchMeeting = () => {},\n  onError = () => {},\n  onHlsStarted = () => {},\n  onHlsStopped = () => {},\n  onHlsStateChanged = () => {},\n  onRecordingStateChanged = () => {},\n  onLivestreamStateChanged = () => {},\n  onMeetingStateChanged = () => {},\n  onParticipantModeChanged = () => {}\n} = {}) => {\n  useEffect(() => {\n    eventEmitter.on(events['participant-joined'], onParticipantJoined);\n    eventEmitter.on(events['participant-left'], onParticipantLeft);\n    eventEmitter.on(events['speaker-changed'], onSpeakerChanged);\n    eventEmitter.on(events['presenter-changed'], onPresenterChanged);\n    eventEmitter.on(\n      events['main-participant-changed'],\n      onMainParticipantChanged\n    );\n    eventEmitter.on(events['entry-requested'], onEntryRequested);\n    eventEmitter.on(events['entry-responded'], onEntryResponded);\n    eventEmitter.on(events['recording-started'], onRecordingStarted);\n    eventEmitter.on(events['recording-stopped'], onRecordingStopped);\n    eventEmitter.on(events['chat-message'], onChatMessage);\n    eventEmitter.on(events['meeting-joined'], onMeetingJoined);\n    eventEmitter.on(events['meeting-left'], onMeetingLeft);\n    eventEmitter.on(events['live-stream-started'], onLiveStreamStarted);\n    eventEmitter.on(events['live-stream-stopped'], onLiveStreamStopped);\n    eventEmitter.on(events['video-state-changed'], onVideoStateChanged);\n    eventEmitter.on(events['video-seeked'], onVideoSeeked);\n    eventEmitter.on(events['webcam-requested'], onWebcamRequested);\n    eventEmitter.on(events['mic-requested'], onMicRequested);\n    eventEmitter.on(events['pin-state-changed'], onPinStateChanged);\n    eventEmitter.on(events['connection-open'], onConnectionOpen);\n    eventEmitter.on(events['connection-close'], onConnetionClose);\n    eventEmitter.on(events['switch-meeting'], onSwitchMeeting);\n    eventEmitter.on(events['error'], onError);\n    eventEmitter.on(events['hls-started'], onHlsStarted);\n    eventEmitter.on(events['hls-stopped'], onHlsStopped);\n    eventEmitter.on(events['hls-state-changed'], onHlsStateChanged);\n    eventEmitter.on(events['recording-state-changed'], onRecordingStateChanged);\n    eventEmitter.on(\n      events['livestream-state-changed'],\n      onLivestreamStateChanged\n    );\n    eventEmitter.on(events['meeting-state-changed'], onMeetingStateChanged);\n    eventEmitter.on(\n      events['participant-mode-changed'],\n      onParticipantModeChanged\n    );\n\n    return () => {\n      eventEmitter.off(events['meeting-state-changed'], onMeetingStateChanged);\n      eventEmitter.off(events['participant-joined'], onParticipantJoined);\n      eventEmitter.off(events['participant-left'], onParticipantLeft);\n      eventEmitter.off(events['speaker-changed'], onSpeakerChanged);\n      eventEmitter.off(events['presenter-changed'], onPresenterChanged);\n      eventEmitter.off(\n        events['main-participant-changed'],\n        onMainParticipantChanged\n      );\n      eventEmitter.off(events['entry-requested'], onEntryRequested);\n      eventEmitter.off(events['entry-responded'], onEntryResponded);\n      eventEmitter.off(events['recording-started'], onRecordingStarted);\n      eventEmitter.off(events['recording-stopped'], onRecordingStopped);\n      eventEmitter.off(events['chat-message'], onChatMessage);\n      eventEmitter.off(events['meeting-joined'], onMeetingJoined);\n      eventEmitter.off(events['meeting-left'], onMeetingLeft);\n      eventEmitter.off(events['live-stream-started'], onLiveStreamStarted);\n      eventEmitter.off(events['live-stream-stopped'], onLiveStreamStopped);\n      eventEmitter.off(events['video-state-changed'], onVideoStateChanged);\n      eventEmitter.off(events['video-seeked'], onVideoSeeked);\n      eventEmitter.off(events['webcam-requested'], onWebcamRequested);\n      eventEmitter.off(events['mic-requested'], onMicRequested);\n      eventEmitter.off(events['pin-state-changed'], onPinStateChanged);\n      eventEmitter.off(events['connection-open'], onConnectionOpen);\n      eventEmitter.off(events['connection-close'], onConnetionClose);\n      eventEmitter.off(events['switch-meeting'], onSwitchMeeting);\n      eventEmitter.off(events['error'], onError);\n      eventEmitter.off(events['hls-started'], onHlsStarted);\n      eventEmitter.off(events['hls-stopped'], onHlsStopped);\n      eventEmitter.off(events['hls-state-changed'], onHlsStateChanged);\n      eventEmitter.off(\n        events['recording-state-changed'],\n        onRecordingStateChanged\n      );\n      eventEmitter.off(\n        events['livestream-state-changed'],\n        onLivestreamStateChanged\n      );\n      eventEmitter.off(\n        events['participant-mode-changed'],\n        onParticipantModeChanged\n      );\n    };\n  }, []);\n  return useContext(MeetingProviderContex);\n};\n\nexport const MeetingConsumer = ({\n  children,\n  onParticipantJoined = () => {},\n  onParticipantLeft = () => {},\n  onSpeakerChanged = () => {},\n  onPresenterChanged = () => {},\n  onMainParticipantChanged = () => {},\n  onEntryRequested = () => {},\n  onEntryResponded = () => {},\n  onRecordingStarted = () => {},\n  onRecordingStopped = () => {},\n  onChatMessage = () => {},\n  onMeetingJoined = () => {},\n  onMeetingLeft = () => {},\n  onLiveStreamStarted = () => {},\n  onLiveStreamStopped = () => {},\n  onVideoStateChanged = () => {},\n  onVideoSeeked = () => {},\n  onWebcamRequested = () => {},\n  onMicRequested = () => {},\n  onPinStateChanged = () => {},\n  onConnectionOpen = () => {},\n  onConnetionClose = () => {},\n  onSwitchMeeting = () => {},\n  onError = () => {},\n  onHlsStarted = () => {},\n  onHlsStopped = () => {},\n  onHlsStateChanged = () => {},\n  onRecordingStateChanged = () => {},\n  onLivestreamStateChanged = () => {},\n  onMeetingStateChanged = () => {},\n  onParticipantModeChanged = () => {}\n}) => {\n  useEffect(() => {\n    eventEmitter.on(events['meeting-state-changed'], onMeetingStateChanged);\n    eventEmitter.on(events['participant-joined'], onParticipantJoined);\n    eventEmitter.on(events['participant-left'], onParticipantLeft);\n    eventEmitter.on(events['speaker-changed'], onSpeakerChanged);\n    eventEmitter.on(events['presenter-changed'], onPresenterChanged);\n    eventEmitter.on(\n      events['main-participant-changed'],\n      onMainParticipantChanged\n    );\n    eventEmitter.on(events['entry-requested'], onEntryRequested);\n    eventEmitter.on(events['entry-responded'], onEntryResponded);\n    eventEmitter.on(events['recording-started'], onRecordingStarted);\n    eventEmitter.on(events['recording-stopped'], onRecordingStopped);\n    eventEmitter.on(events['chat-message'], onChatMessage);\n    eventEmitter.on(events['meeting-joined'], onMeetingJoined);\n    eventEmitter.on(events['meeting-left'], onMeetingLeft);\n    eventEmitter.on(events['live-stream-enabled'], onLiveStreamStarted);\n    eventEmitter.on(events['live-stream-disabled'], onLiveStreamStopped);\n    eventEmitter.on(events['video-state-changed'], onVideoStateChanged);\n    eventEmitter.on(events['video-seeked'], onVideoSeeked);\n    eventEmitter.on(events['webcam-requested'], onWebcamRequested);\n    eventEmitter.on(events['mic-requested'], onMicRequested);\n    eventEmitter.on(events['pin-state-changed'], onPinStateChanged);\n    eventEmitter.on(events['connection-open'], onConnectionOpen);\n    eventEmitter.on(events['connection-close'], onConnetionClose);\n    eventEmitter.on(events['switch-meeting'], onSwitchMeeting);\n    eventEmitter.on(events['error'], onError);\n    eventEmitter.on(events['hls-started'], onHlsStarted);\n    eventEmitter.on(events['hls-stopped'], onHlsStopped);\n    eventEmitter.on(events['hls-state-changed'], onHlsStateChanged);\n    eventEmitter.on(events['recording-state-changed'], onRecordingStateChanged);\n    eventEmitter.on(\n      events['livestream-state-changed'],\n      onLivestreamStateChanged\n    );\n    eventEmitter.on(\n      events['participant-mode-changed'],\n      onParticipantModeChanged\n    );\n\n    return () => {\n      eventEmitter.off(events['meeting-state-changed'], onMeetingStateChanged);\n      eventEmitter.off(events['participant-joined'], onParticipantJoined);\n      eventEmitter.off(events['participant-left'], onParticipantLeft);\n      eventEmitter.off(events['speaker-changed'], onSpeakerChanged);\n      eventEmitter.off(events['presenter-changed'], onPresenterChanged);\n      eventEmitter.off(\n        events['main-participant-changed'],\n        onMainParticipantChanged\n      );\n      eventEmitter.off(events['entry-requested'], onEntryRequested);\n      eventEmitter.off(events['entry-responded'], onEntryResponded);\n      eventEmitter.off(events['recording-started'], onRecordingStarted);\n      eventEmitter.off(events['recording-stopped'], onRecordingStopped);\n      eventEmitter.off(events['chat-message'], onChatMessage);\n      eventEmitter.off(events['meeting-joined'], onMeetingJoined);\n      eventEmitter.off(events['meeting-left'], onMeetingLeft);\n      eventEmitter.off(events['live-stream-enabled'], onLiveStreamStarted);\n      eventEmitter.off(events['live-stream-disabled'], onLiveStreamStopped);\n      eventEmitter.off(events['video-state-changed'], onVideoStateChanged);\n      eventEmitter.off(events['video-seeked'], onVideoSeeked);\n      eventEmitter.off(events['webcam-requested'], onWebcamRequested);\n      eventEmitter.off(events['mic-requested'], onMicRequested);\n      eventEmitter.off(events['pin-state-changed'], onPinStateChanged);\n      eventEmitter.off(events['connection-open'], onConnectionOpen);\n      eventEmitter.off(events['connection-close'], onConnetionClose);\n      eventEmitter.off(events['switch-meeting'], onSwitchMeeting);\n      eventEmitter.off(events['error'], onError);\n      eventEmitter.off(events['hls-started'], onHlsStarted);\n      eventEmitter.off(events['hls-stopped'], onHlsStopped);\n      eventEmitter.off(events['hls-state-changed'], onHlsStateChanged);\n      eventEmitter.off(\n        events['recording-state-changed'],\n        onRecordingStateChanged\n      );\n      eventEmitter.off(\n        events['livestream-state-changed'],\n        onLivestreamStateChanged\n      );\n      eventEmitter.off(\n        events['participant-mode-changed'],\n        onParticipantModeChanged\n      );\n    };\n  }, []);\n\n  return (\n    <React.Fragment>\n      <MeetingProviderContex.Consumer>\n        {children}\n      </MeetingProviderContex.Consumer>\n    </React.Fragment>\n  );\n};\n","import { MeetingProviderContex } from './meetingProviderContextDef';\nimport React, { useEffect, useRef, useState, useMemo } from 'react';\nimport { eventEmitter, events } from '../utils';\nimport { VideoSDK } from '@videosdk.live/js-sdk';\nimport { version as reactSDKVersion } from '../../package.json';\n\n/**\n *\n * @param {{\n *  children:any,\n *  config:{\n *    meetingId: string,\n *    autoConsume?: boolean,\n *    preferredProtocol?:\"UDP_ONLY\" | \"UDP_OVER_TCP\",\n *    participantId?:string | undefined,\n *    name:string,\n *    micEnabled:boolean,\n *    webcamEnabled:boolean,\n *    maxResolution?:\"hd\" | \"sd\",\n *    customCameraVideoTrack?: MediaStream | undefined\n *    customMicrophoneAudioTrack?: MediaStream | undefined,\n *    multiStream?: boolean,\n *    mode?: \"CONFERENCE\" | \"VIEWER\",\n * },\n *  token: string,\n *  joinWithoutUserInteraction?: boolean,\n *  reinitialiseMeetingOnConfigChange?: boolean,\n *  deviceInfo?: object\n * }}\n *\n */\nconst MeetingProvider = ({\n  children,\n  config,\n  token,\n  joinWithoutUserInteraction,\n  reinitialiseMeetingOnConfigChange: _reinitialiseMeetingOnConfigChange,\n  deviceInfo\n}) => {\n  const [meeting, setMeeting] = useState(null);\n  const [localParticipant, setLocalParticipant] = useState(null);\n  const [mainParticipant, setMainParticipant] = useState(null);\n  const [activeSpeakerId, setActiveSpeakerId] = useState(null);\n  const [presenterId, setPresenterId] = useState(null);\n  const [localMicOn, setLocalMicOn] = useState(false);\n  const [localWebcamOn, setLocalWebcamOn] = useState(false);\n  const [localScreenShareOn, setLocalScreenShareOn] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [participants, setParticipants] = useState(new Map());\n  const [pinnedParticipants, setPinnedParticipants] = useState(new Map());\n  const [isLiveStreaming, setIsLiveStreaming] = useState(false);\n  const [connections, setConnections] = useState(new Map());\n  const [isMeetingJoined, setIsMeetingJoined] = useState(false);\n  const [isHls, setIsHls] = useState(false);\n  const [recordingState, setRecordingState] = useState(null);\n  const [livestreamState, setLivestreamState] = useState(null);\n  const [hlsState, setHlsState] = useState(null);\n\n  const meetingRef = useRef();\n  const localMicOnRef = useRef();\n  const localWebcamOnRef = useRef();\n  const localScreenShareOnRef = useRef();\n  const isRecordingRef = useRef();\n  const configRef = useRef(config);\n  const tokenRef = useRef(token);\n  const joinedOnFirstRender = useRef(false);\n  const isHlsRef = useRef();\n\n  const reinitialiseMeetingOnConfigChange = useMemo(\n    () => _reinitialiseMeetingOnConfigChange,\n    []\n  );\n\n  useEffect(() => {\n    meetingRef.current = meeting;\n  }, [meeting]);\n  useEffect(() => {\n    localMicOnRef.current = localMicOn;\n  }, [localMicOn]);\n  useEffect(() => {\n    localWebcamOnRef.current = localWebcamOn;\n  }, [localWebcamOn]);\n  useEffect(() => {\n    localScreenShareOnRef.current = localScreenShareOn;\n  }, [localScreenShareOn]);\n  useEffect(() => {\n    isRecordingRef.current = isRecording;\n  }, [isRecording]);\n  useEffect(() => {\n    configRef.current = config;\n  }, [config]);\n  useEffect(() => {\n    tokenRef.current = token;\n  }, [token]);\n  useEffect(() => {\n    isHlsRef.current = isHls;\n  }, [isHls]);\n\n  const resetStates = () => {\n    setMeeting(null);\n    setLocalParticipant(null);\n    setMainParticipant(null);\n    setActiveSpeakerId(null);\n    setPresenterId(null);\n    setLocalMicOn(false);\n    setLocalWebcamOn(false);\n    setLocalScreenShareOn(false);\n    setIsRecording(false);\n    setMessages([]);\n    setIsLiveStreaming(false);\n    setParticipants(new Map());\n    setPinnedParticipants(new Map());\n    setConnections(new Map());\n    setIsMeetingJoined(false);\n    setIsHls(false);\n    setRecordingState(null);\n    setLivestreamState(null);\n    setHlsState(null);\n  };\n\n  const _handle_participant_joined = participant => {\n    setParticipants(participants => {\n      participants.set(participant.id, participant);\n      const participantsToSet = new Map(participants);\n      return participantsToSet;\n    });\n    eventEmitter.emit(events['participant-joined'], participant);\n  };\n  const _handle_participant_left = participant => {\n    setParticipants(participants => {\n      participants.delete(participant.id);\n\n      const newParticipants = new Map(participants);\n      return newParticipants;\n    });\n    eventEmitter.emit(events['participant-left'], participant);\n  };\n  const _handle_presenter_changed = presenterId => {\n    setPresenterId(presenterId);\n    setLocalScreenShareOn(\n      presenterId === meetingRef?.current?.localParticipant?.id\n    );\n    eventEmitter.emit(events['presenter-changed'], presenterId);\n  };\n  const _handle_main_participant_changed = participant => {\n    setMainParticipant(participant);\n    eventEmitter.emit(events['main-participant-changed'], participant);\n  };\n  const _handle_speaker_changed = activeSpeakerId => {\n    setActiveSpeakerId(activeSpeakerId);\n    eventEmitter.emit(events['speaker-changed'], activeSpeakerId);\n  };\n  const _handle_chat_message = data => {\n    setMessages(s => [...s, data]);\n\n    eventEmitter.emit(events['chat-message'], data);\n  };\n  const _handle_entry_requested = data => {\n    eventEmitter.emit(events['entry-requested'], data);\n  };\n  const _handle_entry_responded = (participantId, decision) => {\n    eventEmitter.emit(events['entry-responded'], participantId, decision);\n  };\n  const _handle_recording_started = () => {\n    setIsRecording(true);\n    eventEmitter.emit(events['recording-started']);\n  };\n  const _handle_recording_stopped = () => {\n    setIsRecording(false);\n    eventEmitter.emit(events['recording-stopped']);\n  };\n\n  const _handle_localParticipant_stream_enabled = stream => {\n    if (stream.track.readyState === 'live') {\n      if (stream.kind === 'video') {\n        setLocalWebcamOn(true);\n      } else if (stream.kind === 'audio') {\n        setLocalMicOn(true);\n      }\n    }\n  };\n  const _handle_localParticipant_stream_disabled = stream => {\n    if (stream.track.readyState === 'ended') {\n      if (stream.kind === 'video') {\n        setLocalWebcamOn(false);\n      } else if (stream.kind === 'audio') {\n        setLocalMicOn(false);\n      }\n    }\n  };\n\n  const _handle_live_stream_started = data => {\n    setIsLiveStreaming(true);\n    eventEmitter.emit(events['live-stream-started'], data);\n  };\n  const _handle_live_stream_stopped = () => {\n    setIsLiveStreaming(false);\n    eventEmitter.emit(events['live-stream-stopped']);\n  };\n  const _handle_hls_started = data => {\n    setIsHls(true);\n    eventEmitter.emit(events['hls-started'], data);\n  };\n  const _handle_hls_stopped = () => {\n    setIsHls(false);\n    eventEmitter.emit(events['hls-stopped']);\n  };\n  const _handle_video_state_changed = data => {\n    eventEmitter.emit(events['video-state-changed'], data);\n  };\n  const _handle_video_seeked = data => {\n    eventEmitter.emit(events['video-seeked'], data);\n  };\n\n  const _handle_webcam_requested = data => {\n    eventEmitter.emit(events['webcam-requested'], data);\n  };\n\n  const _handle_mic_requested = data => {\n    eventEmitter.emit(events['mic-requested'], data);\n  };\n\n  const _handle_meeting_joined = data => {\n    joinedOnFirstRender.current = true;\n    setMessages(s => [...s, ...data.messages]);\n    eventEmitter.emit(events['meeting-joined'], data);\n    setIsMeetingJoined(true);\n  };\n\n  const _handle_meeting_left = () => {\n    eventEmitter.emit(events['meeting-left']);\n\n    const meeting = meetingRef.current;\n\n    if (meeting) {\n      if (typeof meeting?.off === 'function') {\n        meeting.off('meeting-state-changed', _handle_meeting_state_changed);\n        meeting.off('participant-joined', _handle_participant_joined);\n        meeting.off('participant-left', _handle_participant_left);\n        meeting.off('presenter-changed', _handle_presenter_changed);\n        meeting.off(\n          'main-participant-changed',\n          _handle_main_participant_changed\n        );\n        meeting.off('speaker-changed', _handle_speaker_changed);\n        meeting.off('entry-requested', _handle_entry_requested);\n        meeting.off('entry-responded', _handle_entry_responded);\n        meeting.off('chat-message', _handle_chat_message);\n        meeting.off('recording-started', _handle_recording_started);\n        meeting.off('recording-stopped', _handle_recording_stopped);\n        meeting.off('meeting-joined', _handle_meeting_joined);\n        meeting.off('meeting-left', _handle_meeting_left);\n        meeting.off('livestream-started', _handle_live_stream_started);\n        meeting.off('livestream-stopped', _handle_live_stream_stopped);\n        meeting.off('video-state-changed', _handle_video_state_changed);\n        meeting.off('video-seeked', _handle_video_seeked);\n        meeting.off('webcam-requested', _handle_webcam_requested);\n        meeting.off('mic-requested', _handle_mic_requested);\n        meeting.off('pin-state-changed', _handle_pin_state_changed);\n        meeting.off('connection-open', _handle_connection_open);\n        meeting.off('connection-close', _handle_connection_close);\n        meeting.off('switch-meeting', _handle_switch_meeting);\n        meeting.off('error', _handle_error);\n        meeting.off('hls-started', _handle_hls_started);\n        meeting.off('hls-stopped', _handle_hls_stopped);\n        meeting.off('recording-state-changed', _handle_recording_state_changed);\n        meeting.off(\n          'livestream-state-changed',\n          _handle_livestream_state_changed\n        );\n        meeting.off('hls-state-changed', _handle_hls_state_changed);\n        meeting.off(\n          'participant-mode-changed',\n          _handel_participant_mode_changed\n        );\n      }\n\n      if (typeof meeting?.localParticipant?.off === 'function') {\n        meeting.localParticipant.off(\n          'stream-enabled',\n          _handle_localParticipant_stream_enabled\n        );\n\n        meeting.localParticipant.off(\n          'stream-disabled',\n          _handle_localParticipant_stream_disabled\n        );\n      }\n\n      resetStates();\n    }\n  };\n\n  const _handle_pin_state_changed = ({ participantId, state, pinnedBy }) => {\n    setPinnedParticipants(pinnedParticipants => {\n      if (!state.cam && !state.share) {\n        pinnedParticipants.delete(participantId);\n      } else {\n        pinnedParticipants.set(participantId, state);\n      }\n\n      const pinnedParticipantsToSet = new Map(pinnedParticipants);\n\n      return pinnedParticipantsToSet;\n    });\n\n    eventEmitter.emit(events['pin-state-changed'], {\n      participantId,\n      state,\n      pinnedBy\n    });\n  };\n\n  const _handle_connection_open = connection => {\n    setConnections(s => {\n      s.set(connection.id, connection);\n      const connectionsToSet = new Map(s);\n      return connectionsToSet;\n    });\n    eventEmitter.emit(events['connection-open'], connection);\n  };\n\n  const _handle_connection_close = connectionId => {\n    setConnections(s => {\n      s.delete(connectionId);\n      const newConnections = new Map(s);\n      return newConnections;\n    });\n    eventEmitter.emit(events['connection-close'], connectionId);\n  };\n\n  const _handle_switch_meeting = d => {\n    eventEmitter.emit(events['switch-meeting'], d);\n  };\n  const _handle_error = data => {\n    eventEmitter.emit(events['error'], data);\n  };\n\n  const _handle_recording_state_changed = data => {\n    setRecordingState(data?.status);\n    eventEmitter.emit(events['recording-state-changed'], data);\n  };\n  const _handle_livestream_state_changed = data => {\n    setLivestreamState(data?.status);\n    eventEmitter.emit(events['livestream-state-changed'], data);\n  };\n  const _handle_hls_state_changed = data => {\n    setHlsState(data?.status);\n    eventEmitter.emit(events['hls-state-changed'], data);\n  };\n\n  const _handle_meeting_state_changed = data => {\n    eventEmitter.emit(events['meeting-state-changed'], data);\n  };\n\n  const _handel_participant_mode_changed = data => {\n    setParticipants(participants => {\n      const part = participants.get(data.participantId);\n      part.mode = data.mode;\n      participants.set(part.id, part);\n      return participants;\n    });\n\n    // Update Local Participant Object\n    if (data.participantId === meetingRef?.current?.localParticipant?.id) {\n      setLocalParticipant(participant => {\n        participant.mode = data.mode;\n        return participant;\n      });\n    }\n\n    eventEmitter.emit(events['participant-mode-changed'], data);\n  };\n\n  const join = () => {\n    const meeting = VideoSDK && VideoSDK.initMeeting(configRef.current);\n    setMeeting(meeting);\n    const { localParticipant, participants } = meeting;\n    participants.set(localParticipant.id, localParticipant);\n    setParticipants(participants);\n    setLocalParticipant(localParticipant);\n    meeting.on('meeting-state-changed', _handle_meeting_state_changed);\n    meeting.on('participant-joined', _handle_participant_joined);\n    meeting.on('participant-left', _handle_participant_left);\n    meeting.on('presenter-changed', _handle_presenter_changed);\n    meeting.on('main-participant-changed', _handle_main_participant_changed);\n    meeting.on('speaker-changed', _handle_speaker_changed);\n    meeting.on('entry-requested', _handle_entry_requested);\n    meeting.on('entry-responded', _handle_entry_responded);\n    meeting.on('chat-message', _handle_chat_message);\n    meeting.on('recording-started', _handle_recording_started);\n    meeting.on('recording-stopped', _handle_recording_stopped);\n    meeting.on('meeting-joined', _handle_meeting_joined);\n    meeting.on('meeting-left', _handle_meeting_left);\n    meeting.on('livestream-started', _handle_live_stream_started);\n    meeting.on('livestream-stopped', _handle_live_stream_stopped);\n    meeting.on('video-state-changed', _handle_video_state_changed);\n    meeting.on('video-seeked', _handle_video_seeked);\n    meeting.on('webcam-requested', _handle_webcam_requested);\n    meeting.on('mic-requested', _handle_mic_requested);\n    meeting.on('pin-state-changed', _handle_pin_state_changed);\n\n    meeting.on('connection-open', _handle_connection_open);\n    meeting.on('connection-close', _handle_connection_close);\n    meeting.on('switch-meeting', _handle_switch_meeting);\n    meeting.on('error', _handle_error);\n    meeting.on('hls-started', _handle_hls_started);\n    meeting.on('hls-stopped', _handle_hls_stopped);\n    meeting.on('recording-state-changed', _handle_recording_state_changed);\n    meeting.on('livestream-state-changed', _handle_livestream_state_changed);\n    meeting.on('hls-state-changed', _handle_hls_state_changed);\n    meeting.on('participant-mode-changed', _handel_participant_mode_changed);\n\n    meeting.localParticipant.on(\n      'stream-enabled',\n      _handle_localParticipant_stream_enabled\n    );\n    meeting.localParticipant.on(\n      'stream-disabled',\n      _handle_localParticipant_stream_disabled\n    );\n    meeting.join();\n  };\n\n  const leave = () => {\n    const meeting = meetingRef.current;\n\n    if (meeting) {\n      meeting.leave();\n    }\n  };\n\n  const end = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.end();\n    }\n  };\n  const startRecording = (webhookUrl, awsDirPath, config) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startRecording(webhookUrl, awsDirPath, config);\n    }\n  };\n  const stopRecording = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      const isRecording = isRecordingRef.current;\n      if (isRecording) {\n        meeting.stopRecording();\n      }\n    }\n  };\n  const unmuteMic = (customAudioTrack = undefined) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.unmuteMic(customAudioTrack);\n    }\n  };\n  const muteMic = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.muteMic();\n    }\n  };\n  const toggleMic = (customAudioTrack = undefined) => {\n    const localMicOn = localMicOnRef.current;\n\n    if (localMicOn) {\n      muteMic();\n    } else {\n      unmuteMic(customAudioTrack);\n    }\n  };\n  const disableWebcam = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.disableWebcam();\n    }\n  };\n  const enableWebcam = (customVideoTrack = undefined) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.enableWebcam(customVideoTrack);\n    }\n  };\n  const toggleWebcam = (customVideoTrack = undefined) => {\n    const localWebcamOn = localWebcamOnRef.current;\n\n    if (localWebcamOn) {\n      disableWebcam();\n    } else {\n      enableWebcam(customVideoTrack);\n    }\n  };\n  const disableScreenShare = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.disableScreenShare();\n    }\n  };\n  const enableScreenShare = (customScreenShareTrack = undefined) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.enableScreenShare(customScreenShareTrack);\n    }\n  };\n\n  const toggleScreenShare = (customScreenShareTrack = undefined) => {\n    const localScreenShareOn = localScreenShareOnRef.current;\n\n    if (localScreenShareOn) {\n      disableScreenShare();\n    } else {\n      enableScreenShare(customScreenShareTrack);\n    }\n  };\n\n  const changeMode = mode => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.changeMode(mode);\n    }\n  };\n\n  const sendChatMessage = text => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.sendChatMessage(text);\n    }\n  };\n  const respondEntry = (participantId, decision) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.respondEntry(participantId, decision);\n    }\n  };\n  const getMics = async () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      return await meeting.getMics();\n    }\n  };\n  const getWebcams = async () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      return await meeting.getWebcams();\n    }\n  };\n  const changeWebcam = obj => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.changeWebcam(obj);\n    }\n  };\n  const changeMic = obj => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.changeMic(obj);\n    }\n  };\n  const startVideo = ({ link }) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startVideo({ link });\n    }\n  };\n\n  const stopVideo = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.stopVideo();\n    }\n  };\n\n  const resumeVideo = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.resumeVideo();\n    }\n  };\n\n  const pauseVideo = ({ currentTime }) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.pauseVideo({ currentTime });\n    }\n  };\n\n  const seekVideo = ({ currentTime }) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.seekVideo({ currentTime });\n    }\n  };\n\n  const startLivestream = (streamInfo, config) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startLivestream(streamInfo, config);\n    }\n  };\n\n  const stopLivestream = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.stopLivestream();\n    }\n  };\n\n  const connectTo = async ({ meetingId, payload }) => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      await meeting.connectTo({ meetingId, payload });\n    }\n  };\n\n  const startHls = config => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.startHls(config);\n    }\n  };\n\n  const stopHls = () => {\n    const meeting = meetingRef.current;\n    if (meeting) {\n      meeting.stopHls();\n    }\n  };\n\n  const initSDK = () => {\n    VideoSDK.config(tokenRef.current);\n\n    if (deviceInfo) {\n      VideoSDK.analytics(deviceInfo);\n    } else {\n      VideoSDK.analytics({\n        sdkType: 'react-web',\n        sdkVersion: reactSDKVersion\n      });\n    }\n\n    if (joinWithoutUserInteraction) {\n      join();\n    }\n  };\n\n  useEffect(() => {\n    initSDK();\n  }, []);\n\n  useEffect(() => {\n    if (reinitialiseMeetingOnConfigChange && joinedOnFirstRender.current) {\n      leave();\n      initSDK();\n      !joinWithoutUserInteraction && join();\n    }\n  }, [config.meetingId, token, reinitialiseMeetingOnConfigChange]);\n\n  return (\n    <MeetingProviderContex.Provider\n      value={{\n        meetingId: meeting?.id,\n        meeting,\n        baseUrl: meeting?.baseUrl,\n        localParticipant,\n        mainParticipant,\n        activeSpeakerId,\n        participants,\n        presenterId,\n        localMicOn,\n        localWebcamOn,\n        localScreenShareOn,\n        messages,\n        isRecording,\n        isLiveStreaming,\n        pinnedParticipants,\n        connections,\n        isHls,\n        recordingState,\n        livestreamState,\n        hlsState,\n        isMeetingJoined,\n        //\n        join,\n        leave,\n        end,\n        //\n        startRecording,\n        stopRecording,\n        //\n        sendChatMessage,\n        respondEntry,\n        //\n        muteMic,\n        unmuteMic,\n        toggleMic,\n        //\n        disableWebcam,\n        enableWebcam,\n        toggleWebcam,\n        //\n        disableScreenShare,\n        enableScreenShare,\n        toggleScreenShare,\n        //\n        getMics,\n        getWebcams,\n        changeWebcam,\n        changeMic,\n        changeMode,\n        startVideo,\n        stopVideo,\n        resumeVideo,\n        pauseVideo,\n        seekVideo,\n        startLivestream,\n        stopLivestream,\n        connectTo,\n\n        startHls,\n        stopHls\n      }}\n    >\n      {children}\n    </MeetingProviderContex.Provider>\n  );\n};\n\nexport default MeetingProvider;\n","import { useEffect, useState, useMemo } from 'react';\nimport { useMeeting } from '../meeting/meetingProviderContextDef';\nimport { eventEmitter, events } from '../utils';\n\n/**\n *\n * @param {string} participantId\n * @param {{\n *  onStreamDisabled?: Function,\n *  onStreamEnabled?: Function,\n *  onMediaStatusChanged?: Function,\n *  onVideoQualityChanged?: Function,\n * }} options\n *\n * @returns {{\n *   displayName: string;\n *   participant: Participant;\n *   webcamStream: Stream;\n *   micStream: Stream;\n *   screenShareStream: Stream;\n *   screenShareAudioStream: Stream;\n *   webcamOn: boolean;\n *   micOn: boolean;\n *   screenShareOn: boolean;\n *   isLocal: boolean;\n *   isActiveSpeaker: boolean;\n *   isMainParticipant: boolean;\n *   pinState: any;\n *   mode: \"CONFERENCE\" | \"VIEWER\",\n *   consumeMicStreams: () => void;\n *   consumeWebcamStreams: () => void;\n *   stopConsumingMicStreams: () => void;\n *   stopConsumingWebcamStreams: () => void;\n *   setQuality: (quality: \"low\" | \"med\" | 'high') => void;\n *   setViewPort: (width: number, height: number) => void;\n *   enableMic: () => void;\n *   disableMic: () => void;\n *   enableWebcam: () => void;\n *   disableWebcam: () => void;\n *   pin: (data: \"SHARE_AND_CAM\" | \"CAM\" | \"SHARE\") => void;\n *   unpin: (data: \"SHARE_AND_CAM\" | \"CAM\" | \"SHARE\") => void;\n *   switchTo: ({ meetingId, payload, token }: {\n *      meetingId: string;\n *      payload: string;\n *      token: string;\n *   }) => Promise<void>;\n *   getAudioStats: () => Promise<[{\n *   bitrate: number,\n *   rtt: number,\n *   network:String,\n *   codec: String,\n *   jitter: number,\n *   limitation: Object,\n *   totalPackets: number,\n *   packetsLost: number,\n *   concealmentEvents: number,\n *   insertedSamplesForDecelaration: number,\n *   removedSamplesForAccelaration: number,\n *   size:Object\n * }]>;\n * getVideoStats: () => Promise<[{\n *   bitrate: number,\n *   rtt: number,\n *   network:String,\n *   codec: String,\n *   jitter: number,\n *   limitation: Object,\n *   totalPackets: number,\n *   packetsLost: number,\n *   concealmentEvents: number,\n *   insertedSamplesForDecelaration: number,\n *   removedSamplesForAccelaration: number,\n *   size:Object,\n *   currentSpatialLayer: number,\n *   currentTemporalLayer: number,\n *   preferredSpatialLayer: number,\n *   preferredTemporalLayer: number\n * }]>;\n * getShareStats: () => Promise<[{\n *   bitrate: number,\n *   rtt: number,\n *   network:String,\n *   codec: String,\n *   jitter: number,\n *   limitation: Object,\n *   totalPackets: number,\n *   packetsLost: number,\n *   concealmentEvents: number,\n *   insertedSamplesForDecelaration: number,\n *   removedSamplesForAccelaration: number,\n *   size:Object,\n *   currentSpatialLayer: number,\n *   currentTemporalLayer: number,\n *   preferredSpatialLayer: number,\n *   preferredTemporalLayer: number\n * }]>;\n *}}\n *\n */\nconst useParticipant = (\n  participantId,\n  {\n    onStreamEnabled = () => {},\n    onStreamDisabled = () => {},\n    onMediaStatusChanged = () => {},\n    onVideoQualityChanged = () => {}\n  } = {}\n) => {\n  const [webcamStream, setwebcamStream] = useState(null);\n  const [micStream, setMicStream] = useState(null);\n  const [screenShareStream, setScreenShareStream] = useState(null);\n  const [screenShareAudioStream, setScreenShareAudioStream] = useState(null);\n\n  const meeting = useMeeting();\n\n  const {\n    participants,\n    localParticipant,\n    activeSpeakerId,\n    mainParticipant,\n    pinState\n  } = useMemo(() => {\n    const participants = meeting?.participants;\n    const localParticipant = meeting?.localParticipant;\n    const activeSpeakerId = meeting?.activeSpeakerId;\n    const mainParticipant = meeting?.mainParticipant;\n    const pinState = meeting?.pinnedParticipants?.get(participantId) || {\n      cam: false,\n      share: false\n    };\n\n    // const micOn = meeting?.participants?.get(participantId).micOn || false;\n    // const webcamOn = meeting?.participants?.get(participantId).webcamOn || false;\n\n    return {\n      participants,\n      localParticipant,\n      activeSpeakerId,\n      mainParticipant,\n      pinState\n    };\n  }, [meeting]);\n\n  /**\n   * @type {Participant}\n   */\n  const participant = participants?.get(participantId);\n\n  const [webcamOn, setWebcamOn] = useState(participant?.webcamOn);\n  const [micOn, setMicOn] = useState(participant?.micOn);\n  const [mode, setMode] = useState(participant?.mode);\n\n  const setTrack = stream => {\n    if (stream.track.readyState === 'live') {\n      switch (stream.kind) {\n        case 'video':\n          if (webcamStream != null) {\n            setwebcamStream(null);\n          }\n          setwebcamStream(stream);\n          break;\n        case 'audio':\n          if (micStream != null) {\n            setMicStream(null);\n          }\n          setMicStream(stream);\n          break;\n        case 'share':\n          if (screenShareStream != null) {\n            setScreenShareStream(null);\n          }\n          setScreenShareStream(stream);\n          break;\n        case 'shareAudio':\n          if (screenShareAudioStream != null) {\n            setScreenShareAudioStream(null);\n          }\n          setScreenShareAudioStream(stream);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const unSetTrack = stream => {\n    if (stream.track.readyState !== 'live') {\n      switch (stream.kind) {\n        case 'video':\n          setwebcamStream(null);\n          break;\n        case 'audio':\n          setMicStream(null);\n          break;\n        case 'share':\n          setScreenShareStream(null);\n          break;\n        case 'shareAudio':\n          setScreenShareAudioStream(null);\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const _handleStreamEnabled = stream => {\n    setTrack(stream);\n    onStreamEnabled(stream);\n  };\n\n  const _handleParticipantModeChanged = data => {\n    if (participantId === data.participantId) {\n      setMode(data.mode);\n    }\n  };\n\n  const _handleStreamDisabled = stream => {\n    unSetTrack(stream);\n    onStreamDisabled(stream);\n  };\n\n  const _handleVideoQualityChanged = data => {\n    const { peerId, prevQuality, currentQuality } = data;\n    onVideoQualityChanged({ peerId, prevQuality, currentQuality });\n  };\n\n  const _handleMediaStatusChanged = data => {\n    const { kind, peerId, newStatus } = data;\n    if (kind == 'audio') {\n      setMicOn(newStatus);\n    } else if (kind == 'video') {\n      setWebcamOn(newStatus);\n    }\n    onMediaStatusChanged({ kind, peerId, newStatus });\n  };\n\n  const setQuality = quality => {\n    participant?.setQuality(quality);\n  };\n\n  const setViewPort = (width, height) => {\n    participant?.setViewPort(width, height);\n  };\n\n  const enableMic = () => {\n    participant?.enableMic();\n  };\n  const disableMic = () => {\n    participant?.disableMic();\n  };\n  const enableWebcam = () => {\n    participant?.enableWebcam();\n  };\n  const disableWebcam = () => {\n    participant?.disableWebcam();\n  };\n  const pin = data => {\n    participant?.pin(data);\n  };\n  const unpin = data => {\n    participant?.unpin(data);\n  };\n  const getAudioStats = async () => {\n    return participant?.getAudioStats();\n  };\n  const getVideoStats = async () => {\n    return participant?.getVideoStats();\n  };\n  const getShareStats = async () => {\n    return participant?.getShareStats();\n  };\n\n  const consumeWebcamStreams = () => {\n    participant?.consumeWebcamStreams();\n  };\n  const consumeMicStreams = () => {\n    participant?.consumeMicStreams();\n  };\n  const stopConsumingWebcamStreams = () => {\n    participant?.stopConsumingWebcamStreams();\n  };\n  const stopConsumingMicStreams = () => {\n    participant?.stopConsumingMicStreams();\n  };\n  const switchTo = async data => {\n    await participant?.switchTo(data);\n  };\n\n  useEffect(() => {\n    const streams = participant?.streams;\n\n    if (streams) {\n      streams.forEach(stream => {\n        setTrack(stream);\n      });\n    }\n\n    if (participant?.micOn) {\n      setMicOn(micOn);\n    }\n\n    if (participant?.webcamOn) {\n      setWebcamOn(webcamOn);\n    }\n\n    participant?.on('stream-enabled', _handleStreamEnabled);\n\n    participant?.on('stream-disabled', _handleStreamDisabled);\n\n    participant?.on('media-status-changed', _handleMediaStatusChanged);\n\n    participant?.on('video-quality-changed', _handleVideoQualityChanged);\n\n    eventEmitter.on(\n      events['participant-mode-changed'],\n      _handleParticipantModeChanged\n    );\n\n    return () => {\n      participant?.off('stream-enabled', _handleStreamEnabled);\n\n      participant?.off('stream-disabled', _handleStreamDisabled);\n\n      participant?.off('media-status-changed', _handleMediaStatusChanged);\n\n      participant?.off('video-quality-changed', _handleVideoQualityChanged);\n\n      eventEmitter.off(\n        events['participant-mode-changed'],\n        _handleParticipantModeChanged\n      );\n    };\n  }, [participant]);\n\n  return {\n    displayName: participant?.displayName,\n    participant,\n    webcamStream,\n    micStream,\n    screenShareStream,\n    screenShareAudioStream,\n    webcamOn: webcamOn || !!webcamStream,\n    micOn: micOn || !!micStream,\n    mode: mode,\n\n    screenShareOn: !!screenShareStream,\n    isLocal: localParticipant?.id === participantId,\n    isActiveSpeaker: activeSpeakerId === participantId,\n    isMainParticipant: mainParticipant?.id === participantId,\n    pinState,\n\n    //\n    consumeMicStreams,\n    consumeWebcamStreams,\n    stopConsumingMicStreams,\n    stopConsumingWebcamStreams,\n    setQuality,\n    setViewPort,\n    enableMic,\n    disableMic,\n    enableWebcam,\n    disableWebcam,\n    pin,\n    unpin,\n    switchTo,\n    getAudioStats,\n    getVideoStats,\n    getShareStats\n  };\n};\n\nexport default useParticipant;\n","import { useEffect, useState, useMemo } from 'react';\nimport { useMeeting } from '../meeting/meetingProviderContextDef';\n/**\n *\n * @param {string} connectionId\n * @param {{onMeeting:{\n *  onParticipantJoined?: Function,\n *  onParticipantLeft?: Function,\n *  onChatMessage?: Function\n * }}}\n * @returns {{\n *  connection: {\n *    id: string;\n *    close: Function;\n *    payload: string;\n *    meeting: {\n *      id: string;\n *      sendChatMessage: Function;\n *      end: Function;\n *      participants: Array<ConnectionParticipant>;\n *      };\n *  }}}\n */\nconst useConnection = (\n  connectionId,\n  { onMeeting } = {\n    onMeeting: {\n      onParticipantJoined: () => {},\n      onParticipantLeft: () => {},\n      onChatMessage: () => {}\n    }\n  }\n) => {\n  const onParticipantJoined = onMeeting?.onParticipantJoined;\n  const onParticipantLeft = onMeeting?.onParticipantLeft;\n  const onChatMessage = onMeeting?.onChatMessage;\n\n  const meeting = useMeeting();\n\n  const { connection, connectionParticipants } = useMemo(() => {\n    const connection = meeting?.connections.get(connectionId);\n\n    if (!connection) {\n      throw new Error('connectionId not found');\n    }\n\n    const connectionParticipants = new Map(connection.meeting.participants);\n\n    return {\n      connection,\n      connectionParticipants\n    };\n  }, [meeting]);\n\n  const [_connectionParticipants, setConnectionParticipants] = useState(\n    new Map(connectionParticipants)\n  );\n\n  const _handleParticipantJoined = participant => {\n    setConnectionParticipants(s => {\n      s.set(participant.id, participant);\n      const participantsToSet = new Map(s);\n      return participantsToSet;\n    });\n    onParticipantJoined(participant);\n  };\n  const _handleParticipantLeft = participantId => {\n    setConnectionParticipants(s => {\n      s.delete(participantId);\n      const newParticipants = new Map(s);\n      return newParticipants;\n    });\n    onParticipantLeft(participantId);\n  };\n\n  const _handleChatMessage = data => {\n    onChatMessage(data);\n  };\n\n  useEffect(() => {\n    connection?.meeting.on('participant-joined', _handleParticipantJoined);\n    connection?.meeting.on('participant-left', _handleParticipantLeft);\n    connection?.meeting.on('chat-message', _handleChatMessage);\n\n    return () => {\n      connection?.meeting.off('participant-joined', _handleParticipantJoined);\n      connection?.meeting.off('participant-left', _handleParticipantLeft);\n      connection?.meeting.off('chat-message', _handleChatMessage);\n    };\n  }, [connection]);\n\n  return {\n    connection: {\n      id: connection.id,\n      close: connection.close,\n      payload: connection.payload,\n      meeting: {\n        id: connection.meeting.id,\n        sendChatMessage: connection.meeting.sendChatMessage,\n        end: connection.meeting.end,\n        participants: _connectionParticipants\n      }\n    }\n  };\n};\n\nexport default useConnection;\n","import { useEffect, useRef, useState } from 'react';\nimport { useMeeting } from '../meeting/meetingProviderContextDef';\n\n/**\n *\n * @param {string} topic\n * @param {{\n *  onMessageReceived?: Function,\n *  onOldMessagesReceived?: Function,\n * }} options\n * @returns {{\n *  publish: (message: string,{persist: boolean}) => void\n *  messages: Array<{\n *    id: string,\n *    message: string,\n *    senderId: string,\n *    senderName: string,\n *    timestamp: string,\n *    topic: string\n *  }>\n * }}\n */\nconst usePubSub = (\n  topic,\n  { onMessageReceived = () => {}, onOldMessagesReceived = () => {} } = {}\n) => {\n  const { meeting, isMeetingJoined } = useMeeting();\n  const [messages, setMessages] = useState([]);\n  const isSubscribed = useRef(false);\n\n  /**\n   *\n   * @param {string} message\n   * @param {{persist: boolean}} options\n   */\n  const publish = (message, options) => {\n    if (meeting) {\n      meeting.pubSub.publish(topic, message, options);\n    }\n  };\n\n  const _handlePubSub = data => {\n    setMessages(s => [...s, data]);\n    onMessageReceived(data);\n  };\n\n  const subscribeToPubsub = async meeting => {\n    const data = await meeting?.pubSub?.subscribe(topic, _handlePubSub);\n    if (data) {\n      onOldMessagesReceived(data.messages);\n      setMessages(data.messages);\n    }\n  };\n\n  useEffect(() => {\n    if (meeting && !isSubscribed.current && isMeetingJoined) {\n      isSubscribed.current = true;\n      subscribeToPubsub(meeting);\n\n      return () => {\n        meeting?.pubSub?.unsubscribe(topic, _handlePubSub);\n      };\n    }\n  }, [meeting, isMeetingJoined]);\n\n  return { publish, messages };\n};\n\nexport default usePubSub;\n","import MeetingProvider from './meeting/MeetingProvider';\nimport {\n  MeetingConsumer,\n  useMeeting\n} from './meeting/meetingProviderContextDef';\nimport useParticipant from './participant/useParticipant';\nimport useConnection from './connection/useConnection';\nimport usePubSub from './pubSub/usePubSub';\nimport { VideoSDK } from '@videosdk.live/js-sdk';\n\nconst Constants = VideoSDK.Constants;\n\n/**\n * @param {{\n *  cameraId?: string | undefined,\n *  encoderConfig?: \"h90p_w160p\" | \"h180p_w320p\" | \"h216p_w384p\"\n *     | \"h360p_w640p\" | \"h540p_w960p\" | \"h720p_w1280p\" | \"h1080p_w1920p\"\n *     | \"h1440p_w2560p\" | \"h2160p_w3840p\" | \"h120p_w160p\" | \"h180p_w240p\"\n *     | \"h240p_w320p\" | \"h360p_w480p\" | \"h480p_w640p\" | \"h540p_w720p\"\n *     | \"h720p_w960p\" | \"h1080p_w1440p\" | \"h1440p_w1920p\" | undefined,\n *  facingMode?: \"front\" | \"environment\" | undefined,\n *  optimizationMode?: \"text\"| \"motion\" | \"detail\" | undefined\n *  multiStream?: boolean\n * }}\n */\nconst createCameraVideoTrack = async ({\n  cameraId = undefined,\n  encoderConfig = undefined,\n  facingMode = undefined,\n  optimizationMode = undefined,\n  multiStream = true\n}) => {\n  return await VideoSDK.createCameraVideoTrack({\n    cameraId,\n    encoderConfig,\n    facingMode,\n    optimizationMode,\n    multiStream\n  });\n};\n\n/**\n * @param {{\n *  encoderConfig?: \"h360p_30fps\" | \"h720p_5fps\" | \"h720p_15fps\"\n *       | \"h1080p_15fps\" | \"h1080p_30fps\" | undefined,\n *  optimizationMode?: \"text\"| \"motion\" | \"detail\" | undefined,\n *  withAudio?:\"enable\" | \"disable\"\n * }}\n */\nconst createScreenShareVideoTrack = async ({\n  encoderConfig = undefined,\n  optimizationMode = undefined,\n  withAudio = 'enable'\n}) => {\n  return await VideoSDK.createScreenShareVideoTrack({\n    encoderConfig,\n    optimizationMode,\n    withAudio\n  });\n};\n\n/**\n * @param {{\n *  noiseConfig?: {\n *    echoCancellation: boolean,\n *    autoGainControl: boolean,\n *    noiseSuppression: boolean\n *  } | undefined,\n *  encoderConfig?: \"speech_low_quality\"\n *     | \"speech_standard\" | \"music_standard\"\n *     | \"standard_stereo\" | \"high_quality\"\n *     | \"high_quality_stereo\" | undefined\n *  microphoneId?: string | undefined\n * }}\n */\nconst createMicrophoneAudioTrack = async ({\n  noiseConfig = undefined,\n  encoderConfig = undefined,\n  microphoneId = undefined\n}) => {\n  return await VideoSDK.createMicrophoneAudioTrack({\n    noiseConfig,\n    encoderConfig,\n    microphoneId\n  });\n};\n\nexport {\n  MeetingProvider,\n  useMeeting,\n  useParticipant,\n  usePubSub,\n  MeetingConsumer,\n  useConnection,\n  Constants,\n  createCameraVideoTrack,\n  createMicrophoneAudioTrack,\n  createScreenShareVideoTrack\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}